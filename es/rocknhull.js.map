{"version":3,"file":"rocknhull.js","sources":["../src/thirdparty/TrackballControls.js","../src/thirdparty/OrbitControls.js","../src/EventManager.js","../src/ThreeContext.js","../src/AnchorPoint.js","../src/AnchorPointCollection.js","../src/thirdparty/QuickHull.js","../src/thirdparty/ConvexGeometry.js","../src/HullView.js","../src/Rocknhull.js","../src/main.js"],"sourcesContent":["/*\n * @author Eberhard Graether / http://egraether.com/\n * @author Mark Lundin   / http://mark-lundin.com\n * @author Simone Manini / http://daron1337.github.io\n * @author Luca Antiga   / http://lantiga.github.io\n */\n\n\nimport * as THREE from 'three'\n\n/*\n* ES6 adapted source from the example folder of THREEJS (because there is no proper repo for it)\n* Enables mouse control (pan, zoom, rotation)\n*/\nconst TrackballControls = function (object, domElement) {\n  const _this = this\n  const STATE = {\n    NONE: -1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4,\n  }\n\n  this.object = object\n  this.domElement = (domElement !== undefined) ? domElement : document\n\n  // API\n\n  this.enabled = true\n\n  this.screen = {\n    left: 0, top: 0, width: 0, height: 0,\n  }\n\n  this.rotateSpeed = 1.0\n  this.zoomSpeed = 1.2\n  this.panSpeed = 0.3\n\n  this.noRotate = false\n  this.noZoom = false\n  this.noPan = false\n\n  this.staticMoving = false\n  this.dynamicDampingFactor = 0.5\n\n  this.minDistance = 0\n  this.maxDistance = Infinity\n\n  this.keys = [65 /* A */, 83 /* S */, 68]\n\n  // internals\n\n  this.target = new THREE.Vector3()\n\n  const EPS = 0.000001\n\n  const lastPosition = new THREE.Vector3()\n\n  let _state = STATE.NONE\n\n\n  let _prevState = STATE.NONE\n\n\n  const _eye = new THREE.Vector3()\n\n\n  const _movePrev = new THREE.Vector2()\n\n\n  const _moveCurr = new THREE.Vector2()\n\n\n  const _lastAxis = new THREE.Vector3()\n\n\n  let _lastAngle = 0\n\n\n  const _zoomStart = new THREE.Vector2()\n\n\n  const _zoomEnd = new THREE.Vector2()\n\n\n  let _touchZoomDistanceStart = 0\n\n\n  let _touchZoomDistanceEnd = 0\n\n\n  const _panStart = new THREE.Vector2()\n\n\n  const _panEnd = new THREE.Vector2()\n\n  // for reset\n\n  this.target0 = this.target.clone()\n  this.position0 = this.object.position.clone()\n  this.up0 = this.object.up.clone()\n\n  // events\n\n  const changeEvent = { type: 'change' }\n  const startEvent = { type: 'start' }\n  const endEvent = { type: 'end' }\n\n\n  // methods\n\n  this.handleResize = function () {\n    if (this.domElement === document) {\n      this.screen.left = 0\n      this.screen.top = 0\n      this.screen.width = window.innerWidth\n      this.screen.height = window.innerHeight\n    } else {\n      const box = this.domElement.getBoundingClientRect()\n      // adjustments come from similar code in the jquery offset() function\n      const d = this.domElement.ownerDocument.documentElement\n      this.screen.left = box.left + window.pageXOffset - d.clientLeft\n      this.screen.top = box.top + window.pageYOffset - d.clientTop\n      this.screen.width = box.width\n      this.screen.height = box.height\n    }\n  }\n\n  const getMouseOnScreen = (function () {\n    const vector = new THREE.Vector2()\n\n    return function getMouseOnScreen(pageX, pageY) {\n      vector.set(\n        (pageX - _this.screen.left) / _this.screen.width,\n        (pageY - _this.screen.top) / _this.screen.height,\n      )\n\n      return vector\n    }\n  }())\n\n  const getMouseOnCircle = (function () {\n    const vector = new THREE.Vector2()\n\n    return function getMouseOnCircle(pageX, pageY) {\n      vector.set(\n        ((pageX - _this.screen.width * 0.5 - _this.screen.left) / (_this.screen.width * 0.5)),\n        ((_this.screen.height + 2 * (_this.screen.top - pageY)) / _this.screen.width), // screen.width intentional\n      )\n\n      return vector\n    }\n  }())\n\n  this.rotateCamera = (function () {\n    const axis = new THREE.Vector3()\n\n\n    const quaternion = new THREE.Quaternion()\n\n\n    const eyeDirection = new THREE.Vector3()\n\n\n    const objectUpDirection = new THREE.Vector3()\n\n\n    const objectSidewaysDirection = new THREE.Vector3()\n\n\n    const moveDirection = new THREE.Vector3()\n\n\n    let angle\n\n    return function rotateCamera() {\n      moveDirection.set(_moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0)\n      angle = moveDirection.length()\n\n      if (angle) {\n        _eye.copy(_this.object.position).sub(_this.target)\n\n        eyeDirection.copy(_eye).normalize()\n        objectUpDirection.copy(_this.object.up).normalize()\n        objectSidewaysDirection.crossVectors(objectUpDirection, eyeDirection).normalize()\n\n        objectUpDirection.setLength(_moveCurr.y - _movePrev.y)\n        objectSidewaysDirection.setLength(_moveCurr.x - _movePrev.x)\n\n        moveDirection.copy(objectUpDirection.add(objectSidewaysDirection))\n\n        axis.crossVectors(moveDirection, _eye).normalize()\n\n        angle *= _this.rotateSpeed\n        quaternion.setFromAxisAngle(axis, angle)\n\n        _eye.applyQuaternion(quaternion)\n        _this.object.up.applyQuaternion(quaternion)\n\n        _lastAxis.copy(axis)\n        _lastAngle = angle\n      } else if (!_this.staticMoving && _lastAngle) {\n        _lastAngle *= Math.sqrt(1.0 - _this.dynamicDampingFactor)\n        _eye.copy(_this.object.position).sub(_this.target)\n        quaternion.setFromAxisAngle(_lastAxis, _lastAngle)\n        _eye.applyQuaternion(quaternion)\n        _this.object.up.applyQuaternion(quaternion)\n      }\n\n      _movePrev.copy(_moveCurr)\n    }\n  }())\n\n\n  this.zoomCamera = function () {\n    let factor\n\n    if (_state === STATE.TOUCH_ZOOM_PAN) {\n      factor = _touchZoomDistanceStart / _touchZoomDistanceEnd\n      _touchZoomDistanceStart = _touchZoomDistanceEnd\n      _eye.multiplyScalar(factor)\n    } else {\n      factor = 1.0 + (_zoomEnd.y - _zoomStart.y) * _this.zoomSpeed\n\n      if (factor !== 1.0 && factor > 0.0) {\n        _eye.multiplyScalar(factor)\n      }\n\n      if (_this.staticMoving) {\n        _zoomStart.copy(_zoomEnd)\n      } else {\n        _zoomStart.y += (_zoomEnd.y - _zoomStart.y) * this.dynamicDampingFactor\n      }\n    }\n  }\n\n  this.panCamera = (function () {\n    const mouseChange = new THREE.Vector2()\n\n\n    const objectUp = new THREE.Vector3()\n\n\n    const pan = new THREE.Vector3()\n\n    return function panCamera() {\n      mouseChange.copy(_panEnd).sub(_panStart)\n\n      if (mouseChange.lengthSq()) {\n        mouseChange.multiplyScalar(_eye.length() * _this.panSpeed)\n\n        pan.copy(_eye).cross(_this.object.up).setLength(mouseChange.x)\n        pan.add(objectUp.copy(_this.object.up).setLength(mouseChange.y))\n\n        _this.object.position.add(pan)\n        _this.target.add(pan)\n\n        if (_this.staticMoving) {\n          _panStart.copy(_panEnd)\n        } else {\n          _panStart.add(mouseChange.subVectors(_panEnd, _panStart).multiplyScalar(_this.dynamicDampingFactor))\n        }\n      }\n    }\n  }())\n\n  this.checkDistances = function () {\n    if (!_this.noZoom || !_this.noPan) {\n      if (_eye.lengthSq() > _this.maxDistance * _this.maxDistance) {\n        _this.object.position.addVectors(_this.target, _eye.setLength(_this.maxDistance))\n        _zoomStart.copy(_zoomEnd)\n      }\n\n      if (_eye.lengthSq() < _this.minDistance * _this.minDistance) {\n        _this.object.position.addVectors(_this.target, _eye.setLength(_this.minDistance))\n        _zoomStart.copy(_zoomEnd)\n      }\n    }\n  }\n\n  this.update = function () {\n    _eye.subVectors(_this.object.position, _this.target)\n\n    if (!_this.noRotate) {\n      _this.rotateCamera()\n    }\n\n    if (!_this.noZoom) {\n      _this.zoomCamera()\n    }\n\n    if (!_this.noPan) {\n      _this.panCamera()\n    }\n\n    _this.object.position.addVectors(_this.target, _eye)\n\n    _this.checkDistances()\n\n    _this.object.lookAt(_this.target)\n\n    if (lastPosition.distanceToSquared(_this.object.position) > EPS) {\n      _this.dispatchEvent(changeEvent)\n\n      lastPosition.copy(_this.object.position)\n    }\n  }\n\n  this.reset = function () {\n    _state = STATE.NONE\n    _prevState = STATE.NONE\n\n    _this.target.copy(_this.target0)\n    _this.object.position.copy(_this.position0)\n    _this.object.up.copy(_this.up0)\n\n    _eye.subVectors(_this.object.position, _this.target)\n\n    _this.object.lookAt(_this.target)\n\n    _this.dispatchEvent(changeEvent)\n\n    lastPosition.copy(_this.object.position)\n  }\n\n  // listeners\n\n  function keydown(event) {\n    if (_this.enabled === false) return\n\n    window.removeEventListener('keydown', keydown)\n\n    _prevState = _state\n\n    if (_state !== STATE.NONE) {\n      return\n    } if (event.keyCode === _this.keys[STATE.ROTATE] && !_this.noRotate) {\n      _state = STATE.ROTATE\n    } else if (event.keyCode === _this.keys[STATE.ZOOM] && !_this.noZoom) {\n      _state = STATE.ZOOM\n    } else if (event.keyCode === _this.keys[STATE.PAN] && !_this.noPan) {\n      _state = STATE.PAN\n    }\n  }\n\n  function keyup(event) {\n    if (_this.enabled === false) return\n\n    _state = _prevState\n\n    window.addEventListener('keydown', keydown, false)\n  }\n\n  function mousedown(event) {\n    if (_this.enabled === false) return\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    if (_state === STATE.NONE) {\n      _state = event.button\n    }\n\n    if (_state === STATE.ROTATE && !_this.noRotate) {\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY))\n      _movePrev.copy(_moveCurr)\n    } else if (_state === STATE.ZOOM && !_this.noZoom) {\n      _zoomStart.copy(getMouseOnScreen(event.pageX, event.pageY))\n      _zoomEnd.copy(_zoomStart)\n    } else if (_state === STATE.PAN && !_this.noPan) {\n      _panStart.copy(getMouseOnScreen(event.pageX, event.pageY))\n      _panEnd.copy(_panStart)\n    }\n\n    document.addEventListener('mousemove', mousemove, false)\n    document.addEventListener('mouseup', mouseup, false)\n\n    _this.dispatchEvent(startEvent)\n  }\n\n  function mousemove(event) {\n    if (_this.enabled === false) return\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    if (_state === STATE.ROTATE && !_this.noRotate) {\n      _movePrev.copy(_moveCurr)\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY))\n    } else if (_state === STATE.ZOOM && !_this.noZoom) {\n      _zoomEnd.copy(getMouseOnScreen(event.pageX, event.pageY))\n    } else if (_state === STATE.PAN && !_this.noPan) {\n      _panEnd.copy(getMouseOnScreen(event.pageX, event.pageY))\n    }\n  }\n\n  function mouseup(event) {\n    if (_this.enabled === false) return\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    _state = STATE.NONE\n\n    document.removeEventListener('mousemove', mousemove)\n    document.removeEventListener('mouseup', mouseup)\n    _this.dispatchEvent(endEvent)\n  }\n\n  function mousewheel(event) {\n    if (_this.enabled === false) return\n\n    if (_this.noZoom === true) return\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    switch (event.deltaMode) {\n      case 2:\n        // Zoom in pages\n        _zoomStart.y -= event.deltaY * 0.025\n        break\n\n      case 1:\n        // Zoom in lines\n        _zoomStart.y -= event.deltaY * 0.01\n        break\n\n      default:\n        // undefined, 0, assume pixels\n        _zoomStart.y -= event.deltaY * 0.00025\n        break\n    }\n\n    _this.dispatchEvent(startEvent)\n    _this.dispatchEvent(endEvent)\n  }\n\n  function touchstart(event) {\n    if (_this.enabled === false) return\n\n    event.preventDefault()\n\n    switch (event.touches.length) {\n      case 1:\n        _state = STATE.TOUCH_ROTATE\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY))\n        _movePrev.copy(_moveCurr)\n        break\n\n      default: // 2 or more\n        _state = STATE.TOUCH_ZOOM_PAN\n        var dx = event.touches[0].pageX - event.touches[1].pageX\n        var dy = event.touches[0].pageY - event.touches[1].pageY\n        _touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy)\n\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2\n        _panStart.copy(getMouseOnScreen(x, y))\n        _panEnd.copy(_panStart)\n        break\n    }\n\n    _this.dispatchEvent(startEvent)\n  }\n\n  function touchmove(event) {\n    if (_this.enabled === false) return\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    switch (event.touches.length) {\n      case 1:\n        _movePrev.copy(_moveCurr)\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY))\n        break\n\n      default: // 2 or more\n        var dx = event.touches[0].pageX - event.touches[1].pageX\n        var dy = event.touches[0].pageY - event.touches[1].pageY\n        _touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy)\n\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2\n        _panEnd.copy(getMouseOnScreen(x, y))\n        break\n    }\n  }\n\n  function touchend(event) {\n    if (_this.enabled === false) return\n\n    switch (event.touches.length) {\n      case 0:\n        _state = STATE.NONE\n        break\n\n      case 1:\n        _state = STATE.TOUCH_ROTATE\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY))\n        _movePrev.copy(_moveCurr)\n        break\n    }\n\n    _this.dispatchEvent(endEvent)\n  }\n\n  function contextmenu(event) {\n    if (_this.enabled === false) return\n\n    event.preventDefault()\n  }\n\n  this.dispose = function () {\n    this.domElement.removeEventListener('contextmenu', contextmenu, false)\n    this.domElement.removeEventListener('mousedown', mousedown, false)\n    this.domElement.removeEventListener('wheel', mousewheel, false)\n\n    this.domElement.removeEventListener('touchstart', touchstart, false)\n    this.domElement.removeEventListener('touchend', touchend, false)\n    this.domElement.removeEventListener('touchmove', touchmove, false)\n\n    document.removeEventListener('mousemove', mousemove, false)\n    document.removeEventListener('mouseup', mouseup, false)\n\n    window.removeEventListener('keydown', keydown, false)\n    window.removeEventListener('keyup', keyup, false)\n  }\n\n  this.domElement.addEventListener('contextmenu', contextmenu, false)\n  this.domElement.addEventListener('mousedown', mousedown, false)\n  this.domElement.addEventListener('wheel', mousewheel, false)\n\n  this.domElement.addEventListener('touchstart', touchstart, false)\n  this.domElement.addEventListener('touchend', touchend, false)\n  this.domElement.addEventListener('touchmove', touchmove, false)\n\n  window.addEventListener('keydown', keydown, false)\n  window.addEventListener('keyup', keyup, false)\n\n  this.handleResize()\n\n  // force an update at start\n  this.update()\n}\n\n\nTrackballControls.prototype = Object.create(THREE.EventDispatcher.prototype)\n// TrackballControls.prototype.constructor = THREE.TrackballControls;\n\nexport default TrackballControls\n","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n import * as THREE from 'three'\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst OrbitControls = function ( object, domElement ) {\n\n  this.object = object;\n\n  this.domElement = ( domElement !== undefined ) ? domElement : document;\n\n  // Set to false to disable this control\n  this.enabled = true;\n\n  // \"target\" sets the location of focus, where the object orbits around\n  this.target = new THREE.Vector3();\n\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n\n  // How far you can zoom in and out ( OrthographicCamera only )\n  this.minZoom = 0;\n  this.maxZoom = Infinity;\n\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  this.minPolarAngle = 0; // radians\n  this.maxPolarAngle = Math.PI; // radians\n\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  this.minAzimuthAngle = - Infinity; // radians\n  this.maxAzimuthAngle = Infinity; // radians\n\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  this.enableDamping = false;\n  this.dampingFactor = 0.25;\n\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  this.enableZoom = true;\n  this.zoomSpeed = 1.0;\n\n  // Set to false to disable rotating\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0;\n\n  // Set to false to disable panning\n  this.enablePan = true;\n  this.panSpeed = 1.0;\n  this.screenSpacePanning = false; // if true, pan in screen-space\n  this.keyPanSpeed = 7.0;  // pixels moved per arrow key push\n\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n  // Set to false to disable use of the keys\n  this.enableKeys = true;\n\n  // The four arrow keys\n  this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n  // Mouse buttons\n  this.mouseButtons = { LEFT: THREE.MOUSE.LEFT, MIDDLE: THREE.MOUSE.MIDDLE, RIGHT: THREE.MOUSE.RIGHT };\n\n  // for reset\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom;\n\n  //\n  // public methods\n  //\n\n  this.getPolarAngle = function () {\n\n    return spherical.phi;\n\n  };\n\n  this.getAzimuthalAngle = function () {\n\n    return spherical.theta;\n\n  };\n\n  this.saveState = function () {\n\n    scope.target0.copy( scope.target );\n    scope.position0.copy( scope.object.position );\n    scope.zoom0 = scope.object.zoom;\n\n  };\n\n  this.reset = function () {\n\n    scope.target.copy( scope.target0 );\n    scope.object.position.copy( scope.position0 );\n    scope.object.zoom = scope.zoom0;\n\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent( changeEvent );\n\n    scope.update();\n\n    state = STATE.NONE;\n\n  };\n\n  // this method is exposed, but perhaps it would be better if we can make it private...\n  this.update = function () {\n\n    var offset = new THREE.Vector3();\n\n    // so camera.up is the orbit axis\n    var quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n    var quatInverse = quat.clone().inverse();\n\n    var lastPosition = new THREE.Vector3();\n    var lastQuaternion = new THREE.Quaternion();\n\n    return function update() {\n\n      var position = scope.object.position;\n\n      offset.copy( position ).sub( scope.target );\n\n      // rotate offset to \"y-axis-is-up\" space\n      offset.applyQuaternion( quat );\n\n      // angle from z-axis around y-axis\n      spherical.setFromVector3( offset );\n\n      if ( scope.autoRotate && state === STATE.NONE ) {\n\n        rotateLeft( getAutoRotationAngle() );\n\n      }\n\n      spherical.theta += sphericalDelta.theta;\n      spherical.phi += sphericalDelta.phi;\n\n      // restrict theta to be between desired limits\n      spherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n      // restrict phi to be between desired limits\n      spherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n      spherical.makeSafe();\n\n\n      spherical.radius *= scale;\n\n      // restrict radius to be between desired limits\n      spherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n      // move target to panned location\n      scope.target.add( panOffset );\n\n      offset.setFromSpherical( spherical );\n\n      // rotate offset back to \"camera-up-vector-is-up\" space\n      offset.applyQuaternion( quatInverse );\n\n      position.copy( scope.target ).add( offset );\n\n      scope.object.lookAt( scope.target );\n\n      if ( scope.enableDamping === true ) {\n\n        sphericalDelta.theta *= ( 1 - scope.dampingFactor );\n        sphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n        panOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n      } else {\n\n        sphericalDelta.set( 0, 0, 0 );\n\n        panOffset.set( 0, 0, 0 );\n\n      }\n\n      scale = 1;\n\n      // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if ( zoomChanged ||\n        lastPosition.distanceToSquared( scope.object.position ) > EPS ||\n        8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n        scope.dispatchEvent( changeEvent );\n\n        lastPosition.copy( scope.object.position );\n        lastQuaternion.copy( scope.object.quaternion );\n        zoomChanged = false;\n\n        return true;\n\n      }\n\n      return false;\n\n    };\n\n  }();\n\n  this.dispose = function () {\n\n    scope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n    scope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n    scope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n    scope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n    scope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n    scope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n    document.removeEventListener( 'mousemove', onMouseMove, false );\n    document.removeEventListener( 'mouseup', onMouseUp, false );\n\n    window.removeEventListener( 'keydown', onKeyDown, false );\n\n    //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n  };\n\n  //\n  // internals\n  //\n\n  var scope = this;\n\n  var changeEvent = { type: 'change' };\n  var startEvent = { type: 'start' };\n  var endEvent = { type: 'end' };\n\n  var STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY_PAN: 4 };\n\n  var state = STATE.NONE;\n\n  var EPS = 0.000001;\n\n  // current position in spherical coordinates\n  var spherical = new THREE.Spherical();\n  var sphericalDelta = new THREE.Spherical();\n\n  var scale = 1;\n  var panOffset = new THREE.Vector3();\n  var zoomChanged = false;\n\n  var rotateStart = new THREE.Vector2();\n  var rotateEnd = new THREE.Vector2();\n  var rotateDelta = new THREE.Vector2();\n\n  var panStart = new THREE.Vector2();\n  var panEnd = new THREE.Vector2();\n  var panDelta = new THREE.Vector2();\n\n  var dollyStart = new THREE.Vector2();\n  var dollyEnd = new THREE.Vector2();\n  var dollyDelta = new THREE.Vector2();\n\n  function getAutoRotationAngle() {\n\n    return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n  }\n\n  function getZoomScale() {\n\n    return Math.pow( 0.95, scope.zoomSpeed );\n\n  }\n\n  function rotateLeft( angle ) {\n\n    sphericalDelta.theta -= angle;\n\n  }\n\n  function rotateUp( angle ) {\n\n    sphericalDelta.phi -= angle;\n\n  }\n\n  var panLeft = function () {\n\n    var v = new THREE.Vector3();\n\n    return function panLeft( distance, objectMatrix ) {\n\n      v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n      v.multiplyScalar( - distance );\n\n      panOffset.add( v );\n\n    };\n\n  }();\n\n  var panUp = function () {\n\n    var v = new THREE.Vector3();\n\n    return function panUp( distance, objectMatrix ) {\n\n      if ( scope.screenSpacePanning === true ) {\n\n        v.setFromMatrixColumn( objectMatrix, 1 );\n\n      } else {\n\n        v.setFromMatrixColumn( objectMatrix, 0 );\n        v.crossVectors( scope.object.up, v );\n\n      }\n\n      v.multiplyScalar( distance );\n\n      panOffset.add( v );\n\n    };\n\n  }();\n\n  // deltaX and deltaY are in pixels; right and down are positive\n  var pan = function () {\n\n    var offset = new THREE.Vector3();\n\n    return function pan( deltaX, deltaY ) {\n\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      if ( scope.object.isPerspectiveCamera ) {\n\n        // perspective\n        var position = scope.object.position;\n        offset.copy( position ).sub( scope.target );\n        var targetDistance = offset.length();\n\n        // half of the fov is center to top of screen\n        targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n        // we use only clientHeight here so aspect ratio does not distort speed\n        panLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n        panUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n      } else if ( scope.object.isOrthographicCamera ) {\n\n        // orthographic\n        panLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n        panUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n      } else {\n\n        // camera neither orthographic nor perspective\n        console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n        scope.enablePan = false;\n\n      }\n\n    };\n\n  }();\n\n  function dollyIn( dollyScale ) {\n\n    if ( scope.object.isPerspectiveCamera ) {\n\n      scale /= dollyScale;\n\n    } else if ( scope.object.isOrthographicCamera ) {\n\n      scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n\n    } else {\n\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n      scope.enableZoom = false;\n\n    }\n\n  }\n\n  function dollyOut( dollyScale ) {\n\n    if ( scope.object.isPerspectiveCamera ) {\n\n      scale *= dollyScale;\n\n    } else if ( scope.object.isOrthographicCamera ) {\n\n      scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n\n    } else {\n\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n      scope.enableZoom = false;\n\n    }\n\n  }\n\n  //\n  // event callbacks - update the object state\n  //\n\n  function handleMouseDownRotate( event ) {\n\n    //console.log( 'handleMouseDownRotate' );\n\n    rotateStart.set( event.clientX, event.clientY );\n\n  }\n\n  function handleMouseDownDolly( event ) {\n\n    //console.log( 'handleMouseDownDolly' );\n\n    dollyStart.set( event.clientX, event.clientY );\n\n  }\n\n  function handleMouseDownPan( event ) {\n\n    //console.log( 'handleMouseDownPan' );\n\n    panStart.set( event.clientX, event.clientY );\n\n  }\n\n  function handleMouseMoveRotate( event ) {\n\n    //console.log( 'handleMouseMoveRotate' );\n\n    rotateEnd.set( event.clientX, event.clientY );\n\n    rotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n    rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n    rotateStart.copy( rotateEnd );\n\n    scope.update();\n\n  }\n\n  function handleMouseMoveDolly( event ) {\n\n    //console.log( 'handleMouseMoveDolly' );\n\n    dollyEnd.set( event.clientX, event.clientY );\n\n    dollyDelta.subVectors( dollyEnd, dollyStart );\n\n    if ( dollyDelta.y > 0 ) {\n\n      dollyIn( getZoomScale() );\n\n    } else if ( dollyDelta.y < 0 ) {\n\n      dollyOut( getZoomScale() );\n\n    }\n\n    dollyStart.copy( dollyEnd );\n\n    scope.update();\n\n  }\n\n  function handleMouseMovePan( event ) {\n\n    //console.log( 'handleMouseMovePan' );\n\n    panEnd.set( event.clientX, event.clientY );\n\n    panDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n    pan( panDelta.x, panDelta.y );\n\n    panStart.copy( panEnd );\n\n    scope.update();\n\n  }\n\n  function handleMouseUp( event ) {\n\n    // console.log( 'handleMouseUp' );\n\n  }\n\n  function handleMouseWheel( event ) {\n\n    // console.log( 'handleMouseWheel' );\n\n    if ( event.deltaY < 0 ) {\n\n      dollyOut( getZoomScale() );\n\n    } else if ( event.deltaY > 0 ) {\n\n      dollyIn( getZoomScale() );\n\n    }\n\n    scope.update();\n\n  }\n\n  function handleKeyDown( event ) {\n\n    //console.log( 'handleKeyDown' );\n\n    switch ( event.keyCode ) {\n\n      case scope.keys.UP:\n        pan( 0, scope.keyPanSpeed );\n        scope.update();\n        break;\n\n      case scope.keys.BOTTOM:\n        pan( 0, - scope.keyPanSpeed );\n        scope.update();\n        break;\n\n      case scope.keys.LEFT:\n        pan( scope.keyPanSpeed, 0 );\n        scope.update();\n        break;\n\n      case scope.keys.RIGHT:\n        pan( - scope.keyPanSpeed, 0 );\n        scope.update();\n        break;\n\n    }\n\n  }\n\n  function handleTouchStartRotate( event ) {\n\n    //console.log( 'handleTouchStartRotate' );\n\n    rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n  }\n\n  function handleTouchStartDollyPan( event ) {\n\n    //console.log( 'handleTouchStartDollyPan' );\n\n    if ( scope.enableZoom ) {\n\n      var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n      var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n      var distance = Math.sqrt( dx * dx + dy * dy );\n\n      dollyStart.set( 0, distance );\n\n    }\n\n    if ( scope.enablePan ) {\n\n      var x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n      var y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n      panStart.set( x, y );\n\n    }\n\n  }\n\n  function handleTouchMoveRotate( event ) {\n\n    //console.log( 'handleTouchMoveRotate' );\n\n    rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n    rotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n    rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n    rotateStart.copy( rotateEnd );\n\n    scope.update();\n\n  }\n\n  function handleTouchMoveDollyPan( event ) {\n\n    //console.log( 'handleTouchMoveDollyPan' );\n\n    if ( scope.enableZoom ) {\n\n      var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n      var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n      var distance = Math.sqrt( dx * dx + dy * dy );\n\n      dollyEnd.set( 0, distance );\n\n      dollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n      dollyIn( dollyDelta.y );\n\n      dollyStart.copy( dollyEnd );\n\n    }\n\n    if ( scope.enablePan ) {\n\n      var x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n      var y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n      panEnd.set( x, y );\n\n      panDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n      pan( panDelta.x, panDelta.y );\n\n      panStart.copy( panEnd );\n\n    }\n\n    scope.update();\n\n  }\n\n  function handleTouchEnd( event ) {\n\n    //console.log( 'handleTouchEnd' );\n\n  }\n\n  //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n  function onMouseDown( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n    switch ( event.button ) {\n\n      case scope.mouseButtons.LEFT:\n\n        if ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n          if ( scope.enablePan === false ) return;\n\n          handleMouseDownPan( event );\n\n          state = STATE.PAN;\n\n        } else {\n\n          if ( scope.enableRotate === false ) return;\n\n          handleMouseDownRotate( event );\n\n          state = STATE.ROTATE;\n\n        }\n\n        break;\n\n      case scope.mouseButtons.MIDDLE:\n\n        if ( scope.enableZoom === false ) return;\n\n        handleMouseDownDolly( event );\n\n        state = STATE.DOLLY;\n\n        break;\n\n      case scope.mouseButtons.RIGHT:\n\n        if ( scope.enablePan === false ) return;\n\n        handleMouseDownPan( event );\n\n        state = STATE.PAN;\n\n        break;\n\n    }\n\n    if ( state !== STATE.NONE ) {\n\n      document.addEventListener( 'mousemove', onMouseMove, false );\n      document.addEventListener( 'mouseup', onMouseUp, false );\n\n      scope.dispatchEvent( startEvent );\n\n    }\n\n  }\n\n  function onMouseMove( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n    switch ( state ) {\n\n      case STATE.ROTATE:\n\n        if ( scope.enableRotate === false ) return;\n\n        handleMouseMoveRotate( event );\n\n        break;\n\n      case STATE.DOLLY:\n\n        if ( scope.enableZoom === false ) return;\n\n        handleMouseMoveDolly( event );\n\n        break;\n\n      case STATE.PAN:\n\n        if ( scope.enablePan === false ) return;\n\n        handleMouseMovePan( event );\n\n        break;\n\n    }\n\n  }\n\n  function onMouseUp( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    handleMouseUp( event );\n\n    document.removeEventListener( 'mousemove', onMouseMove, false );\n    document.removeEventListener( 'mouseup', onMouseUp, false );\n\n    scope.dispatchEvent( endEvent );\n\n    state = STATE.NONE;\n\n  }\n\n  function onMouseWheel( event ) {\n\n    if ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    scope.dispatchEvent( startEvent );\n\n    handleMouseWheel( event );\n\n    scope.dispatchEvent( endEvent );\n\n  }\n\n  function onKeyDown( event ) {\n\n    if ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n    handleKeyDown( event );\n\n  }\n\n  function onTouchStart( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n    switch ( event.touches.length ) {\n\n      case 1:  // one-fingered touch: rotate\n\n        if ( scope.enableRotate === false ) return;\n\n        handleTouchStartRotate( event );\n\n        state = STATE.TOUCH_ROTATE;\n\n        break;\n\n      case 2:  // two-fingered touch: dolly-pan\n\n        if ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n        handleTouchStartDollyPan( event );\n\n        state = STATE.TOUCH_DOLLY_PAN;\n\n        break;\n\n      default:\n\n        state = STATE.NONE;\n\n    }\n\n    if ( state !== STATE.NONE ) {\n\n      scope.dispatchEvent( startEvent );\n\n    }\n\n  }\n\n  function onTouchMove( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch ( event.touches.length ) {\n\n      case 1: // one-fingered touch: rotate\n\n        if ( scope.enableRotate === false ) return;\n        if ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?\n\n        handleTouchMoveRotate( event );\n\n        break;\n\n      case 2: // two-fingered touch: dolly-pan\n\n        if ( scope.enableZoom === false && scope.enablePan === false ) return;\n        if ( state !== STATE.TOUCH_DOLLY_PAN ) return; // is this needed?\n\n        handleTouchMoveDollyPan( event );\n\n        break;\n\n      default:\n\n        state = STATE.NONE;\n\n    }\n\n  }\n\n  function onTouchEnd( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    handleTouchEnd( event );\n\n    scope.dispatchEvent( endEvent );\n\n    state = STATE.NONE;\n\n  }\n\n  function onContextMenu( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n  }\n\n  //\n\n  scope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n  scope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n  scope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n  scope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n  scope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n  scope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n  window.addEventListener( 'keydown', onKeyDown, false );\n\n  // force an update at start\n\n  this.update();\n\n};\n\nOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\nObject.defineProperties( OrbitControls.prototype, {\n\n  center: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .center has been renamed to .target' );\n      return this.target;\n\n    }\n\n  },\n\n  // backward compatibility\n\n  noZoom: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n      return ! this.enableZoom;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n      this.enableZoom = ! value;\n\n    }\n\n  },\n\n  noRotate: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n      return ! this.enableRotate;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n      this.enableRotate = ! value;\n\n    }\n\n  },\n\n  noPan: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n      return ! this.enablePan;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n      this.enablePan = ! value;\n\n    }\n\n  },\n\n  noKeys: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n      return ! this.enableKeys;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n      this.enableKeys = ! value;\n\n    }\n\n  },\n\n  staticMoving: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n      return ! this.enableDamping;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n      this.enableDamping = ! value;\n\n    }\n\n  },\n\n  dynamicDampingFactor: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n      return this.dampingFactor;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n      this.dampingFactor = value;\n\n    }\n\n  }\n\n} );\n\nexport default OrbitControls\n","/*\n* Author   Jonathan Lurie - http://me.jonathanlurie.fr\n* License  MIT\n* Link     https://github.com/Pixpipe/quickvoxelcore\n* Lab      MCIN - Montreal Neurological Institute\n*/\n\n\n/**\n * The EventManager deals with events, create them, call them.\n * This class is mostly for being inherited from.\n */\nclass EventManager {\n  /**\n   * Constructor\n   */\n  constructor() {\n    this._events = {}\n  }\n\n\n  /**\n   * Define an event, with a name associated with a function\n   * @param  {String} eventName - Name to give to the event\n   * @param  {Function} callback - function associated to the even\n   */\n  on(eventName, callback) {\n    if (typeof callback === 'function') {\n      if (!(eventName in this._events)) {\n        this._events[eventName] = []\n      }\n      this._events[eventName].push(callback)\n    } else {\n      console.warn('The callback must be of type Function')\n    }\n  }\n\n\n  emit(eventName, args = []) {\n    // the event must exist and be non null\n    if ((eventName in this._events) && (this._events[eventName].length > 0)) {\n      const events = this._events[eventName]\n      for (let i = 0; i < events.length; i += 1) {\n        events[i](...args)\n      }\n    } else {\n      console.warn(`No function associated to the event ${eventName}`)\n    }\n  }\n}\n\nexport default EventManager\n","import * as THREE from 'three'\nimport TrackballControls from './thirdparty/TrackballControls'\nimport OrbitControls from './thirdparty/OrbitControls'\n// import Tools from './Tools'\nimport EventManager from './EventManager'\n\n/**\n * ThreeContext creates a WebGL context using THREEjs. It also handle mouse control.\n * An event can be associated to a ThreeContext instance: `onRaycast` with the method\n * `.on(\"onRaycast\", function(s){...})` where `s` is the section object being raycasted.\n */\nexport default class ThreeContext extends EventManager {\n  /**\n   * @param {DONObject} divObj - the div object as a DOM element.\n   * Will be used to host the WebGL context\n   * created by THREE\n   */\n  constructor(divObj = null) {\n    super()\n    const that = this\n\n    if (!divObj) {\n      console.error('The ThreeContext needs a div object')\n      return\n    }\n\n    this._requestFrameId = null\n\n    // init camera\n    this._camera = new THREE.PerspectiveCamera(27, divObj.clientWidth / divObj.clientHeight, 1, 10000)\n    this._camera.position.z = 500\n\n\n    // init scene\n    this._scene = new THREE.Scene()\n    this._scene.add(new THREE.AmbientLight(0x444444))\n\n    // fog\n    let fogColor = new THREE.Color(0xffffff)\n    this._scene.background = fogColor\n    this._scene.fog = new THREE.Fog(fogColor, 1000, 1500)\n\n    let axesHelper = new THREE.AxesHelper( 100 )\n    // just so that it remain visible on top of the grid:\n    axesHelper.position.y = 0.05\n    this._scene.add( axesHelper )\n\n    this._gridContainer = new THREE.Object3D()\n    let gridHelper = new THREE.GridHelper( 2000, 200 )\n    this._gridContainer.add(gridHelper)\n    this._scene.add(this._gridContainer)\n\n    // adding some light\n    const light1 = new THREE.DirectionalLight(0xffffff, 0.8)\n    // light1.position.set(0, 1000, 0)\n    // adding the light to the camera ensure a constant lightin of the model\n    this._scene.add(this._camera)\n    this._camera.add(light1)\n\n    this._renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true, preserveDrawingBuffer: true })\n    this._renderer.setClearColor(0xffffff, 0)\n    this._renderer.setPixelRatio(window.devicePixelRatio)\n    this._renderer.setSize(divObj.clientWidth, divObj.clientHeight)\n    this._renderer.gammaInput = true\n    this._renderer.gammaOutput = true\n    divObj.appendChild(this._renderer.domElement)\n\n    // all the necessary for raycasting\n    this._raycaster = new THREE.Raycaster()\n    this._raycastMouse = new THREE.Vector2()\n\n    function onMouseMove(event) {\n      const elem = that._renderer.domElement\n      const rect = elem.getBoundingClientRect()\n      const relX = event.clientX - rect.left\n      const relY = event.clientY - rect.top\n      that._raycastMouse.x = (relX / that._renderer.domElement.clientWidth) * 2 - 1\n      that._raycastMouse.y = -(relY / that._renderer.domElement.clientHeight) * 2 + 1\n    }\n\n    this._renderer.domElement.addEventListener('mousemove', onMouseMove, false)\n    this._renderer.domElement.addEventListener('dblclick', () => {\n      this._performRaycast()\n    }, false)\n\n    // mouse controls\n    this._controls = new OrbitControls(this._camera, this._renderer.domElement)\n    //this._controls.rotateSpeed = 3\n    this._controls.addEventListener('change', this.render.bind(this))\n\n    window.addEventListener('resize', () => {\n      that._camera.aspect = divObj.clientWidth / divObj.clientHeight\n      that._camera.updateProjectionMatrix()\n      that._renderer.setSize(divObj.clientWidth, divObj.clientHeight)\n      // that._controls.handleResize()\n      that.render()\n    }, false)\n\n    this.render()\n    this._animate()\n  }\n\n\n  /**\n   * Adds a Thorus knot to the scene\n   */\n  addSampleShape() {\n    const geometry = new THREE.TorusKnotBufferGeometry(10, 3, 100, 16)\n    const material = new THREE.MeshPhongMaterial({ color: Math.ceil(Math.random() * 0xffff00) })\n    const torusKnot = new THREE.Mesh(geometry, material)\n    this._scene.add(torusKnot)\n    this.render()\n  }\n\n\n  /**\n   * Get the scene object\n   * @return {THREE.Scene}\n   */\n  getScene() {\n    return this._scene\n  }\n\n\n  /**\n   * Get the field of view angle of the camera, in degrees\n   * @return {Number}\n   */\n  getCameraFieldOfView() {\n    return this._camera.fov\n  }\n\n\n  /**\n   * Define the camera field of view, in degrees\n   * @param {Number} fov - the fov\n   */\n  setCameraFieldOfView(fov) {\n    this._camera.fov = fov\n    this._camera.updateProjectionMatrix()\n    this.render()\n  }\n\n\n  /**\n   * @private\n   * deals with rendering and updating the controls\n   */\n  _animate() {\n    this._requestFrameId = requestAnimationFrame(this._animate.bind(this))\n    this._controls.update()\n  }\n\n\n  /**\n   * @private\n   * Render the scene\n   */\n  render() {\n    this._renderer.render(this._scene, this._camera)\n  }\n\n\n\n\n\n  /**\n   * @private\n   * Throw a ray from the camera to the pointer, potentially intersect some sections.\n   * If so, emit the event `onRaycast` with the section instance as argument\n   */\n  _performRaycast() {\n    // update the picking ray with the camera and mouse position\n    this._raycaster.setFromCamera(this._raycastMouse, this._camera)\n\n    // calculate objects intersecting the picking ray\n    const intersects = this._raycaster.intersectObjects(this._scene.children, true)\n\n    if (intersects.length) {\n      this.emit('onRaycast', intersects)\n    }\n  }\n\n\n  /**\n   * Get the png image data as base64, in order to later, export as a file\n   */\n  getSnapshotData() {\n    const strMime = 'image/png'\n    // let strDownloadMime = \"image/octet-stream\"\n    const imgData = this._renderer.domElement.toDataURL(strMime)\n    // imgData.replace(strMime, strDownloadMime)\n    return imgData\n  }\n\n\n  /**\n   * Kills the scene, interaction, animation and reset all objects to null\n   */\n  destroy() {\n    this._controls.dispose()\n    cancelAnimationFrame(this._requestFrameId)\n    this._camera = null\n    this._controls = null\n    this._scene = null\n    this._renderer.domElement.remove()\n    this._renderer = null\n  }\n}\n","import * as THREE from 'three'\n\n\n/**\n * An instance of AnchorPoint is a logic representation of a point in a 3D\n * cartesian space as well as all its symmetrical clone.\n *\n * Note: this is not a graphic representation.\n */\nexport default class AnchorPoint {\n\n  /**\n   * @param {Array} pos - position as [x, y, z]\n   */\n  constructor(pos){\n    this._position = pos\n    this._mirror = [false, false, false, false, false, false, false]\n  }\n\n\n  /**\n   * Set the X component\n   * @param {Number} x - the X component of [x, y, z]\n   * @return {AnchorPoint} return `this` to enable chaining\n   */\n  setX(x){\n    this._position[0] = x\n    return this\n  }\n\n\n  /**\n   * Set the Y component\n   * @param {Number} y - the Y component of [x, y, z]\n   * @return {AnchorPoint} return `this` to enable chaining\n   */\n  setY(y){\n    this._position[1] = y\n    return this\n  }\n\n\n  /**\n   * Set the Z component\n   * @param {Number} z - the Z component of [x, y, z]\n   * @return {AnchorPoint} return `this` to enable chaining\n   */\n  setZ(z){\n    this._position[2] = z\n    return this\n  }\n\n\n  /**\n   * If true, the method `getVector3Ds()` will return the X mirrored point in\n   * addition to the regular one\n   * @param  {Boolean} en - true to mirror, false to not mirror\n   * @return {AnchorPoint} return `this` to enable chaining\n   */\n  enableMirrorX(en) {\n    this._mirror[0] = en\n    return this\n  }\n\n\n  /**\n   * If true, the method `getAnchorPoints()` will return the Y mirrored point in\n   * addition to the regular one\n   * @param  {Boolean} en - true to mirror, false to not mirror\n   * @return {AnchorPoint} return `this` to enable chaining\n   */\n  enableMirrorY(en) {\n    this._mirror[1] = en\n    return this\n  }\n\n\n  /**\n   * If true, the method `getAnchorPoints()` will return the Z mirrored point in\n   * addition to the regular one\n   * @param  {Boolean} en - true to mirror, false to not mirror\n   * @return {AnchorPoint} return `this` to enable chaining\n   */\n  enableMirrorZ(en) {\n    this._mirror[2] = en\n    return this\n  }\n\n\n  /**\n   * If true, the method `getAnchorPoints()` will return the radial symmetrical point in\n   * addition to the regular one\n   * @param  {Boolean} en - true to symetry, false to not symetry\n   * @return {AnchorPoint} return `this` to enable chaining\n   */\n  enableRadialMirrorX(en) {\n    this._mirror[3] = en\n    return this\n  }\n\n\n  /* If true, the method `getAnchorPoints()` will return the radial symmetrical point in\n   * addition to the regular one, using the X axis as rotation axis.\n   * @param  {Boolean} en - true to symetry, false to not symetry\n   * @return {AnchorPoint} return `this` to enable chaining\n   */\n  enableRadialMirrorY(en) {\n    this._mirror[4] = en\n    return this\n  }\n\n  /* If true, the method `getAnchorPoints()` will return the radial symmetrical point in\n   * addition to the regular one, using the X axis as rotation axis.\n   * @param  {Boolean} en - true to symetry, false to not symetry\n   * @return {AnchorPoint} return `this` to enable chaining\n   */\n  enableRadialMirrorZ(en) {\n    this._mirror[5] = en\n    return this\n  }\n\n\n  /* If true, the method `getAnchorPoints()` will return the radial symmetrical point in\n   * addition to the regular one, using the X axis as rotation axis.\n   * @param  {Boolean} en - true to symetry, false to not symetry\n   * @return {AnchorPoint} return `this` to enable chaining\n   */\n  enableRadialMirrorZ(en) {\n    this._mirror[5] = en\n    return this\n  }\n\n\n  /* If true, the method `getAnchorPoints()` will return the radial symmetrical point in\n   * addition to the regular one, using the origin as rotation point.\n   * @param  {Boolean} en - true to symetry, false to not symetry\n   * @return {AnchorPoint} return `this` to enable chaining\n   */\n  enableRadialMirrorO(en) {\n    this._mirror[6] = en\n    return this\n  }\n\n\n  /**\n   * Get all the AnchorPoint, aka. the original one and all its mirror (if enabled)\n   * @return {[THREE.Vector3]} An array of THREE.Vector3 built on te fly\n   */\n  getAnchorPoints() {\n    let points = [new THREE.Vector3(...this._position)]\n\n    if (this._mirror[0]) {\n      points.push(new THREE.Vector3(-this._position[0], this._position[1], this._position[2]))\n    }\n\n    if (this._mirror[1]) {\n      points.push(new THREE.Vector3(this._position[0], -this._position[1], this._position[2]))\n    }\n\n    if (this._mirror[2]) {\n      points.push(new THREE.Vector3(this._position[0], this._position[1], -this._position[2]))\n    }\n\n    if (this._mirror[3]) {\n      points.push(new THREE.Vector3(this._position[0], -this._position[1], -this._position[2]))\n    }\n\n    if (this._mirror[4]) {\n      points.push(new THREE.Vector3(-this._position[0], this._position[1], -this._position[2]))\n    }\n\n    if (this._mirror[5]) {\n      points.push(new THREE.Vector3(-this._position[0], -this._position[1], this._position[2]))\n    }\n\n    if (this._mirror[6]) {\n      points.push(new THREE.Vector3(-this._position[0], -this._position[1], -this._position[2]))\n    }\n\n    return points\n\n  }\n\n}\n","import AnchorPoint from './AnchorPoint'\n\n/**\n * Everything to handle a collection of AnchorPoints\n */\nexport default class AnchorPointCollection {\n\n  constructor () {\n    this._collection = {}\n  }\n\n\n  /**\n   * Add a new anchor point to the collection. An ID will be automatically\n   * created for it so that it can be retrieved later.\n   * @param {Array} pos - position as [x, y, z]\n   * @return {Object} anchor point info as {id: string, anchorPoint: AnchorPoint}\n   */\n  add (pos) {\n    // we generate a random ID for this AnchorPoint\n    let id = Math.random().toFixed(10).split('.')[1]\n\n    this._collection[id] = new AnchorPoint(pos)\n    return {\n      id: id,\n      anchorPoint: this._collection[id]\n    }\n  }\n\n\n  /**\n   * Get an anchor point from the collection\n   * @param  {String} id - the id of the anchor point\n   * @return {AnchorPoint|null}\n   */\n  get (id) {\n    if (id in this._collection) {\n      return this._collection[id]\n    } else {\n      return null\n    }\n  }\n\n\n  /**\n   * Delete the anchor point with the given id from within the collection.\n   * To make it not entirely destructive, the point is returned by this method.\n   * @param  {String} id - the id of the anchor point\n   * @return {AnchorPoint|null}\n   */\n  delete (id) {\n    if (id in this._collection) {\n      let p = this._collection[id]\n      delete this._collection[id]\n      return p\n    } else {\n      return null\n    }\n  }\n\n\n  /**\n   * Generate an array of all the anchor point of this collection\n   * @return {[THREE.Vector3]} array of THREE.Vector3\n   */\n  getAllAnchorPoints () {\n    let all = []\n    let ids = Object.keys(this._collection)\n    for (let i=0; i<ids.length; i++) {\n      all = all.concat(this._collection[ids[i]].getAnchorPoints())\n    }\n    return all\n  }\n\n\n  /**\n   * Delete all the anchor points\n   */\n  deleteAllAnchorPoints () {\n    this._collection = {}\n  }\n\n}\n","/*\n* @author Mugen87 / https://github.com/Mugen87\n*\n* Ported from: https://github.com/maurizzzio/quickhull3d/ by Mauricio Poppe (https://github.com/maurizzzio)\n*\n*/\n\nimport * as THREE from 'three'\n\n\nconst Visible = 0\nconst Deleted = 1\n\nfunction QuickHull() {\n  this.tolerance = -1\n\n  this.faces = [] // the generated faces of the convex hull\n  this.newFaces = [] // this array holds the faces that are generated within a single iteration\n\n  // the vertex lists work as follows:\n  //\n  // let 'a' and 'b' be 'Face' instances\n  // let 'v' be points wrapped as instance of 'Vertex'\n  //\n  //     [v, v, ..., v, v, v, ...]\n  //      ^             ^\n  //      |             |\n  //  a.outside     b.outside\n  //\n  this.assigned = new VertexList()\n  this.unassigned = new VertexList()\n\n  this.vertices = [] // vertices of the hull (internal representation of given geometry data)\n}\n\nObject.assign(QuickHull.prototype, {\n\n  setFromPoints(points) {\n    if (Array.isArray(points) !== true) {\n      console.error('THREE.QuickHull: Points parameter is not an array.')\n    }\n\n    if (points.length < 4) {\n      console.error('THREE.QuickHull: The algorithm needs at least four points.')\n    }\n\n    this.makeEmpty()\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      this.vertices.push(new VertexNode(points[i]))\n    }\n\n    this.compute()\n\n    return this\n  },\n\n  setFromObject(object) {\n    const points = []\n\n    object.updateMatrixWorld(true)\n\n    object.traverse((node) => {\n      let i; let l; let\n        point\n\n      const geometry = node.geometry\n\n      if (geometry !== undefined) {\n        if (geometry.isGeometry) {\n          const vertices = geometry.vertices\n\n          for (i = 0, l = vertices.length; i < l; i++) {\n            point = vertices[i].clone()\n            point.applyMatrix4(node.matrixWorld)\n\n            points.push(point)\n          }\n        } else if (geometry.isBufferGeometry) {\n          const attribute = geometry.attributes.position\n\n          if (attribute !== undefined) {\n            for (i = 0, l = attribute.count; i < l; i++) {\n              point = new THREE.Vector3()\n\n              point.fromBufferAttribute(attribute, i).applyMatrix4(node.matrixWorld)\n\n              points.push(point)\n            }\n          }\n        }\n      }\n    })\n\n    return this.setFromPoints(points)\n  },\n\n  makeEmpty() {\n    this.faces = []\n    this.vertices = []\n\n    return this\n  },\n\n  // Adds a vertex to the 'assigned' list of vertices and assigns it to the given face\n\n  addVertexToFace(vertex, face) {\n    vertex.face = face\n\n    if (face.outside === null) {\n      this.assigned.append(vertex)\n    } else {\n      this.assigned.insertBefore(face.outside, vertex)\n    }\n\n    face.outside = vertex\n\n    return this\n  },\n\n  // Removes a vertex from the 'assigned' list of vertices and from the given face\n\n  removeVertexFromFace(vertex, face) {\n    if (vertex === face.outside) {\n      // fix face.outside link\n\n      if (vertex.next !== null && vertex.next.face === face) {\n        // face has at least 2 outside vertices, move the 'outside' reference\n\n        face.outside = vertex.next\n      } else {\n        // vertex was the only outside vertex that face had\n\n        face.outside = null\n      }\n    }\n\n    this.assigned.remove(vertex)\n\n    return this\n  },\n\n  // Removes all the visible vertices that a given face is able to see which are stored in the 'assigned' vertext list\n\n  removeAllVerticesFromFace(face) {\n    if (face.outside !== null) {\n      // reference to the first and last vertex of this face\n\n      const start = face.outside\n      let end = face.outside\n\n      while (end.next !== null && end.next.face === face) {\n        end = end.next\n      }\n\n      this.assigned.removeSubList(start, end)\n\n      // fix references\n\n      start.prev = end.next = null\n      face.outside = null\n\n      return start\n    }\n  },\n\n  // Removes all the visible vertices that 'face' is able to see\n\n  deleteFaceVertices(face, absorbingFace) {\n    const faceVertices = this.removeAllVerticesFromFace(face)\n\n    if (faceVertices !== undefined) {\n      if (absorbingFace === undefined) {\n        // mark the vertices to be reassigned to some other face\n\n        this.unassigned.appendChain(faceVertices)\n      } else {\n        // if there's an absorbing face try to assign as many vertices as possible to it\n\n        let vertex = faceVertices\n\n        do {\n          // we need to buffer the subsequent vertex at this point because the 'vertex.next' reference\n          // will be changed by upcoming method calls\n\n          const nextVertex = vertex.next\n\n          const distance = absorbingFace.distanceToPoint(vertex.point)\n\n          // check if 'vertex' is able to see 'absorbingFace'\n\n          if (distance > this.tolerance) {\n            this.addVertexToFace(vertex, absorbingFace)\n          } else {\n            this.unassigned.append(vertex)\n          }\n\n          // now assign next vertex\n\n          vertex = nextVertex\n        } while (vertex !== null)\n      }\n    }\n\n    return this\n  },\n\n  // Reassigns as many vertices as possible from the unassigned list to the new faces\n\n  resolveUnassignedPoints(newFaces) {\n    if (this.unassigned.isEmpty() === false) {\n      let vertex = this.unassigned.first()\n\n      do {\n        // buffer 'next' reference, see .deleteFaceVertices()\n\n        const nextVertex = vertex.next\n\n        let maxDistance = this.tolerance\n\n        let maxFace = null\n\n        for (let i = 0; i < newFaces.length; i++) {\n          const face = newFaces[i]\n\n          if (face.mark === Visible) {\n            const distance = face.distanceToPoint(vertex.point)\n\n            if (distance > maxDistance) {\n              maxDistance = distance\n              maxFace = face\n            }\n\n            if (maxDistance > 1000 * this.tolerance) break\n          }\n        }\n\n        // 'maxFace' can be null e.g. if there are identical vertices\n\n        if (maxFace !== null) {\n          this.addVertexToFace(vertex, maxFace)\n        }\n\n        vertex = nextVertex\n      } while (vertex !== null)\n    }\n\n    return this\n  },\n\n  // Computes the extremes of a simplex which will be the initial hull\n\n  computeExtremes() {\n    const min = new THREE.Vector3()\n    const max = new THREE.Vector3()\n\n    const minVertices = []\n    const maxVertices = []\n\n    let i; let l; let\n      j\n\n    // initially assume that the first vertex is the min/max\n\n    for (i = 0; i < 3; i++) {\n      minVertices[i] = maxVertices[i] = this.vertices[0]\n    }\n\n    min.copy(this.vertices[0].point)\n    max.copy(this.vertices[0].point)\n\n    // compute the min/max vertex on all six directions\n\n    for (i = 0, l = this.vertices.length; i < l; i++) {\n      const vertex = this.vertices[i]\n      const point = vertex.point\n\n      // update the min coordinates\n\n      for (j = 0; j < 3; j++) {\n        if (point.getComponent(j) < min.getComponent(j)) {\n          min.setComponent(j, point.getComponent(j))\n          minVertices[j] = vertex\n        }\n      }\n\n      // update the max coordinates\n\n      for (j = 0; j < 3; j++) {\n        if (point.getComponent(j) > max.getComponent(j)) {\n          max.setComponent(j, point.getComponent(j))\n          maxVertices[j] = vertex\n        }\n      }\n    }\n\n    // use min/max vectors to compute an optimal epsilon\n\n    this.tolerance = 3 * Number.EPSILON * (\n      Math.max(Math.abs(min.x), Math.abs(max.x))\n      + Math.max(Math.abs(min.y), Math.abs(max.y))\n      + Math.max(Math.abs(min.z), Math.abs(max.z))\n    )\n\n    return { min: minVertices, max: maxVertices }\n  },\n\n  // Computes the initial simplex assigning to its faces all the points\n  // that are candidates to form part of the hull\n\n  computeInitialHull: (function () {\n    let line3; let plane; let\n      closestPoint\n\n    return function computeInitialHull() {\n      if (line3 === undefined) {\n        line3 = new THREE.Line3()\n        plane = new THREE.Plane()\n        closestPoint = new THREE.Vector3()\n      }\n\n      let vertex; const\n        vertices = this.vertices\n      const extremes = this.computeExtremes()\n      const min = extremes.min\n      const max = extremes.max\n\n      let v0; let v1; let v2; let\n        v3\n      let i; let l; let\n        j\n\n      // 1. Find the two vertices 'v0' and 'v1' with the greatest 1d separation\n      // (max.x - min.x)\n      // (max.y - min.y)\n      // (max.z - min.z)\n\n      let distance; let\n        maxDistance = 0\n      let index = 0\n\n      for (i = 0; i < 3; i++) {\n        distance = max[i].point.getComponent(i) - min[i].point.getComponent(i)\n\n        if (distance > maxDistance) {\n          maxDistance = distance\n          index = i\n        }\n      }\n\n      v0 = min[index]\n      v1 = max[index]\n\n      // 2. The next vertex 'v2' is the one farthest to the line formed by 'v0' and 'v1'\n\n      maxDistance = 0\n      line3.set(v0.point, v1.point)\n\n      for (i = 0, l = this.vertices.length; i < l; i++) {\n        vertex = vertices[i]\n\n        if (vertex !== v0 && vertex !== v1) {\n          line3.closestPointToPoint(vertex.point, true, closestPoint)\n\n          distance = closestPoint.distanceToSquared(vertex.point)\n\n          if (distance > maxDistance) {\n            maxDistance = distance\n            v2 = vertex\n          }\n        }\n      }\n\n      // 3. The next vertex 'v3' is the one farthest to the plane 'v0', 'v1', 'v2'\n\n      maxDistance = -1\n      plane.setFromCoplanarPoints(v0.point, v1.point, v2.point)\n\n      for (i = 0, l = this.vertices.length; i < l; i++) {\n        vertex = vertices[i]\n\n        if (vertex !== v0 && vertex !== v1 && vertex !== v2) {\n          distance = Math.abs(plane.distanceToPoint(vertex.point))\n\n          if (distance > maxDistance) {\n            maxDistance = distance\n            v3 = vertex\n          }\n        }\n      }\n\n      const faces = []\n\n      if (plane.distanceToPoint(v3.point) < 0) {\n        // the face is not able to see the point so 'plane.normal' is pointing outside the tetrahedron\n\n        faces.push(\n          Face.create(v0, v1, v2),\n          Face.create(v3, v1, v0),\n          Face.create(v3, v2, v1),\n          Face.create(v3, v0, v2),\n        )\n\n        // set the twin edge\n\n        for (i = 0; i < 3; i++) {\n          j = (i + 1) % 3\n\n          // join face[ i ] i > 0, with the first face\n\n          faces[i + 1].getEdge(2).setTwin(faces[0].getEdge(j))\n\n          // join face[ i ] with face[ i + 1 ], 1 <= i <= 3\n\n          faces[i + 1].getEdge(1).setTwin(faces[j + 1].getEdge(0))\n        }\n      } else {\n        // the face is able to see the point so 'plane.normal' is pointing inside the tetrahedron\n\n        faces.push(\n          Face.create(v0, v2, v1),\n          Face.create(v3, v0, v1),\n          Face.create(v3, v1, v2),\n          Face.create(v3, v2, v0),\n        )\n\n        // set the twin edge\n\n        for (i = 0; i < 3; i++) {\n          j = (i + 1) % 3\n\n          // join face[ i ] i > 0, with the first face\n\n          faces[i + 1].getEdge(2).setTwin(faces[0].getEdge((3 - i) % 3))\n\n          // join face[ i ] with face[ i + 1 ]\n\n          faces[i + 1].getEdge(0).setTwin(faces[j + 1].getEdge(1))\n        }\n      }\n\n      // the initial hull is the tetrahedron\n\n      for (i = 0; i < 4; i++) {\n        this.faces.push(faces[i])\n      }\n\n      // initial assignment of vertices to the faces of the tetrahedron\n\n      for (i = 0, l = vertices.length; i < l; i++) {\n        vertex = vertices[i]\n\n        if (vertex !== v0 && vertex !== v1 && vertex !== v2 && vertex !== v3) {\n          maxDistance = this.tolerance\n          let maxFace = null\n\n          for (j = 0; j < 4; j++) {\n            distance = this.faces[j].distanceToPoint(vertex.point)\n\n            if (distance > maxDistance) {\n              maxDistance = distance\n              maxFace = this.faces[j]\n            }\n          }\n\n          if (maxFace !== null) {\n            this.addVertexToFace(vertex, maxFace)\n          }\n        }\n      }\n\n      return this\n    }\n  }()),\n\n  // Removes inactive faces\n\n  reindexFaces() {\n    const activeFaces = []\n\n    for (let i = 0; i < this.faces.length; i++) {\n      const face = this.faces[i]\n\n      if (face.mark === Visible) {\n        activeFaces.push(face)\n      }\n    }\n\n    this.faces = activeFaces\n\n    return this\n  },\n\n  // Finds the next vertex to create faces with the current hull\n\n  nextVertexToAdd() {\n    // if the 'assigned' list of vertices is empty, no vertices are left. return with 'undefined'\n\n    if (this.assigned.isEmpty() === false) {\n      let eyeVertex; let\n        maxDistance = 0\n\n      // grap the first available face and start with the first visible vertex of that face\n\n      const eyeFace = this.assigned.first().face\n      let vertex = eyeFace.outside\n\n      // now calculate the farthest vertex that face can see\n\n      do {\n        const distance = eyeFace.distanceToPoint(vertex.point)\n\n        if (distance > maxDistance) {\n          maxDistance = distance\n          eyeVertex = vertex\n        }\n\n        vertex = vertex.next\n      } while (vertex !== null && vertex.face === eyeFace)\n\n      return eyeVertex\n    }\n  },\n\n  // Computes a chain of half edges in CCW order called the 'horizon'.\n  // For an edge to be part of the horizon it must join a face that can see\n  // 'eyePoint' and a face that cannot see 'eyePoint'.\n\n  computeHorizon(eyePoint, crossEdge, face, horizon) {\n    // moves face's vertices to the 'unassigned' vertex list\n\n    this.deleteFaceVertices(face)\n\n    face.mark = Deleted\n\n    let edge\n\n    if (crossEdge === null) {\n      edge = crossEdge = face.getEdge(0)\n    } else {\n      // start from the next edge since 'crossEdge' was already analyzed\n      // (actually 'crossEdge.twin' was the edge who called this method recursively)\n\n      edge = crossEdge.next\n    }\n\n    do {\n      const twinEdge = edge.twin\n      const oppositeFace = twinEdge.face\n\n      if (oppositeFace.mark === Visible) {\n        if (oppositeFace.distanceToPoint(eyePoint) > this.tolerance) {\n          // the opposite face can see the vertex, so proceed with next edge\n\n          this.computeHorizon(eyePoint, twinEdge, oppositeFace, horizon)\n        } else {\n          // the opposite face can't see the vertex, so this edge is part of the horizon\n\n          horizon.push(edge)\n        }\n      }\n\n      edge = edge.next\n    } while (edge !== crossEdge)\n\n    return this\n  },\n\n  // Creates a face with the vertices 'eyeVertex.point', 'horizonEdge.tail' and 'horizonEdge.head' in CCW order\n\n  addAdjoiningFace(eyeVertex, horizonEdge) {\n    // all the half edges are created in ccw order thus the face is always pointing outside the hull\n\n    const face = Face.create(eyeVertex, horizonEdge.tail(), horizonEdge.head())\n\n    this.faces.push(face)\n\n    // join face.getEdge( - 1 ) with the horizon's opposite edge face.getEdge( - 1 ) = face.getEdge( 2 )\n\n    face.getEdge(-1).setTwin(horizonEdge.twin)\n\n    return face.getEdge(0) // the half edge whose vertex is the eyeVertex\n  },\n\n  //  Adds 'horizon.length' faces to the hull, each face will be linked with the\n  //  horizon opposite face and the face on the left/right\n\n  addNewFaces(eyeVertex, horizon) {\n    this.newFaces = []\n\n    let firstSideEdge = null\n    let previousSideEdge = null\n\n    for (let i = 0; i < horizon.length; i++) {\n      const horizonEdge = horizon[i]\n\n      // returns the right side edge\n\n      const sideEdge = this.addAdjoiningFace(eyeVertex, horizonEdge)\n\n      if (firstSideEdge === null) {\n        firstSideEdge = sideEdge\n      } else {\n        // joins face.getEdge( 1 ) with previousFace.getEdge( 0 )\n\n        sideEdge.next.setTwin(previousSideEdge)\n      }\n\n      this.newFaces.push(sideEdge.face)\n      previousSideEdge = sideEdge\n    }\n\n    // perform final join of new faces\n\n    firstSideEdge.next.setTwin(previousSideEdge)\n\n    return this\n  },\n\n  // Adds a vertex to the hull\n\n  addVertexToHull(eyeVertex) {\n    const horizon = []\n\n    this.unassigned.clear()\n\n    // remove 'eyeVertex' from 'eyeVertex.face' so that it can't be added to the 'unassigned' vertex list\n\n    this.removeVertexFromFace(eyeVertex, eyeVertex.face)\n\n    this.computeHorizon(eyeVertex.point, null, eyeVertex.face, horizon)\n\n    this.addNewFaces(eyeVertex, horizon)\n\n    // reassign 'unassigned' vertices to the new faces\n\n    this.resolveUnassignedPoints(this.newFaces)\n\n    return this\n  },\n\n  cleanup() {\n    this.assigned.clear()\n    this.unassigned.clear()\n    this.newFaces = []\n\n    return this\n  },\n\n  compute() {\n    let vertex\n\n    this.computeInitialHull()\n\n    // add all available vertices gradually to the hull\n\n    while ((vertex = this.nextVertexToAdd()) !== undefined) {\n      this.addVertexToHull(vertex)\n    }\n\n    this.reindexFaces()\n\n    this.cleanup()\n\n    return this\n  },\n\n})\n\n//\n\nfunction Face() {\n  this.normal = new THREE.Vector3()\n  this.midpoint = new THREE.Vector3()\n  this.area = 0\n\n  this.constant = 0 // signed distance from face to the origin\n  this.outside = null // reference to a vertex in a vertex list this face can see\n  this.mark = Visible\n  this.edge = null\n}\n\nObject.assign(Face, {\n\n  create(a, b, c) {\n    const face = new Face()\n\n    const e0 = new HalfEdge(a, face)\n    const e1 = new HalfEdge(b, face)\n    const e2 = new HalfEdge(c, face)\n\n    // join edges\n\n    e0.next = e2.prev = e1\n    e1.next = e0.prev = e2\n    e2.next = e1.prev = e0\n\n    // main half edge reference\n\n    face.edge = e0\n\n    return face.compute()\n  },\n\n})\n\nObject.assign(Face.prototype, {\n\n  getEdge(i) {\n    let edge = this.edge\n\n    while (i > 0) {\n      edge = edge.next\n      i--\n    }\n\n    while (i < 0) {\n      edge = edge.prev\n      i++\n    }\n\n    return edge\n  },\n\n  compute: (function () {\n    let triangle\n\n    return function compute() {\n      if (triangle === undefined) triangle = new THREE.Triangle()\n\n      const a = this.edge.tail()\n      const b = this.edge.head()\n      const c = this.edge.next.head()\n\n      triangle.set(a.point, b.point, c.point)\n\n      triangle.getNormal(this.normal)\n      triangle.getMidpoint(this.midpoint)\n      this.area = triangle.getArea()\n\n      this.constant = this.normal.dot(this.midpoint)\n\n      return this\n    }\n  }()),\n\n  distanceToPoint(point) {\n    return this.normal.dot(point) - this.constant\n  },\n\n})\n\n// Entity for a Doubly-Connected Edge List (DCEL).\n\nfunction HalfEdge(vertex, face) {\n  this.vertex = vertex\n  this.prev = null\n  this.next = null\n  this.twin = null\n  this.face = face\n}\n\nObject.assign(HalfEdge.prototype, {\n\n  head() {\n    return this.vertex\n  },\n\n  tail() {\n    return this.prev ? this.prev.vertex : null\n  },\n\n  length() {\n    const head = this.head()\n    const tail = this.tail()\n\n    if (tail !== null) {\n      return tail.point.distanceTo(head.point)\n    }\n\n    return -1\n  },\n\n  lengthSquared() {\n    const head = this.head()\n    const tail = this.tail()\n\n    if (tail !== null) {\n      return tail.point.distanceToSquared(head.point)\n    }\n\n    return -1\n  },\n\n  setTwin(edge) {\n    this.twin = edge\n    edge.twin = this\n\n    return this\n  },\n\n})\n\n// A vertex as a double linked list node.\n\nfunction VertexNode(point) {\n  this.point = point\n  this.prev = null\n  this.next = null\n  this.face = null // the face that is able to see this vertex\n}\n\n// A double linked list that contains vertex nodes.\n\nfunction VertexList() {\n  this.head = null\n  this.tail = null\n}\n\nObject.assign(VertexList.prototype, {\n\n  first() {\n    return this.head\n  },\n\n  last() {\n    return this.tail\n  },\n\n  clear() {\n    this.head = this.tail = null\n\n    return this\n  },\n\n  // Inserts a vertex before the target vertex\n\n  insertBefore(target, vertex) {\n    vertex.prev = target.prev\n    vertex.next = target\n\n    if (vertex.prev === null) {\n      this.head = vertex\n    } else {\n      vertex.prev.next = vertex\n    }\n\n    target.prev = vertex\n\n    return this\n  },\n\n  // Inserts a vertex after the target vertex\n\n  insertAfter(target, vertex) {\n    vertex.prev = target\n    vertex.next = target.next\n\n    if (vertex.next === null) {\n      this.tail = vertex\n    } else {\n      vertex.next.prev = vertex\n    }\n\n    target.next = vertex\n\n    return this\n  },\n\n  // Appends a vertex to the end of the linked list\n\n  append(vertex) {\n    if (this.head === null) {\n      this.head = vertex\n    } else {\n      this.tail.next = vertex\n    }\n\n    vertex.prev = this.tail\n    vertex.next = null // the tail has no subsequent vertex\n\n    this.tail = vertex\n\n    return this\n  },\n\n  // Appends a chain of vertices where 'vertex' is the head.\n\n  appendChain(vertex) {\n    if (this.head === null) {\n      this.head = vertex\n    } else {\n      this.tail.next = vertex\n    }\n\n    vertex.prev = this.tail\n\n    // ensure that the 'tail' reference points to the last vertex of the chain\n\n    while (vertex.next !== null) {\n      vertex = vertex.next\n    }\n\n    this.tail = vertex\n\n    return this\n  },\n\n  // Removes a vertex from the linked list\n\n  remove(vertex) {\n    if (vertex.prev === null) {\n      this.head = vertex.next\n    } else {\n      vertex.prev.next = vertex.next\n    }\n\n    if (vertex.next === null) {\n      this.tail = vertex.prev\n    } else {\n      vertex.next.prev = vertex.prev\n    }\n\n    return this\n  },\n\n  // Removes a list of vertices whose 'head' is 'a' and whose 'tail' is b\n\n  removeSubList(a, b) {\n    if (a.prev === null) {\n      this.head = b.next\n    } else {\n      a.prev.next = b.next\n    }\n\n    if (b.next === null) {\n      this.tail = a.prev\n    } else {\n      b.next.prev = a.prev\n    }\n\n    return this\n  },\n\n  isEmpty() {\n    return this.head === null\n  },\n\n})\n\n\nexport default QuickHull\n","/*\n* @author Mugen87 / https://github.com/Mugen87\n*/\n\nimport * as THREE from 'three'\nimport QuickHull from './QuickHull'\n\n\n// ConvexGeometry\n\nfunction ConvexGeometry(points) {\n  THREE.Geometry.call(this)\n\n  this.fromBufferGeometry(new ConvexBufferGeometry(points))\n  this.mergeVertices()\n}\n\nConvexGeometry.prototype = Object.create(THREE.Geometry.prototype)\nConvexGeometry.prototype.constructor = ConvexGeometry\n\n// ConvexBufferGeometry\n\nfunction ConvexBufferGeometry(points) {\n  THREE.BufferGeometry.call(this)\n\n  // buffers\n\n  const vertices = []\n  const normals = []\n\n  // execute QuickHull\n\n  if (QuickHull === undefined) {\n    console.error('THREE.ConvexBufferGeometry: ConvexBufferGeometry relies on THREE.QuickHull')\n  }\n\n  const quickHull = new QuickHull().setFromPoints(points)\n\n  // generate vertices and normals\n\n  const faces = quickHull.faces\n\n  for (let i = 0; i < faces.length; i++) {\n    const face = faces[i]\n    let edge = face.edge\n\n    // we move along a doubly-connected edge list to access all face points (see HalfEdge docs)\n\n    do {\n      const point = edge.head().point\n\n      vertices.push(point.x, point.y, point.z)\n      normals.push(face.normal.x, face.normal.y, face.normal.z)\n\n      edge = edge.next\n    } while (edge !== face.edge)\n  }\n\n  // build geometry\n\n  this.addAttribute('position', new THREE.Float32BufferAttribute(vertices, 3))\n  this.addAttribute('normal', new THREE.Float32BufferAttribute(normals, 3))\n}\n\nConvexBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype)\nConvexBufferGeometry.prototype.constructor = ConvexBufferGeometry\n\n// export\n/*\nexport default ({\n  ConvexGeometry,\n  ConvexBufferGeometry,\n})\n*/\n\n\nexport { ConvexGeometry, ConvexBufferGeometry }\n","import * as THREE from 'three'\nimport { ConvexBufferGeometry } from './thirdparty/ConvexGeometry'\n\n\nexport default class HullView {\n\n  /**\n   * Build the HullView\n   * @param {THREE.Scene} scene\n   */\n  constructor (scene, anchorPointCollection) {\n    this._scene = scene\n    this._anchorPointCollection = anchorPointCollection\n\n    this._container = new THREE.Object3D()\n    this._anchorPointsContainer = new THREE.Object3D()\n    this._convexHullContainer = new THREE.Object3D()\n\n    this._scene.add(this._container)\n    this._container.add(this._anchorPointsContainer)\n    this._container.add(this._convexHullContainer)\n\n    this._cachedAnchorPoints = []\n    let anchorPointsMaterial = new THREE.MeshBasicMaterial({ color: 0xff00ff })\n    let anchorPointsGeometry = new THREE.SphereBufferGeometry(1, 32, 32)\n    this._anchorPointsMesh = new THREE.Mesh(anchorPointsGeometry, anchorPointsMaterial)\n    this._convexHullMaterial = new THREE.MeshPhongMaterial({ color: 0x6fe2db })\n\n    this._on = {\n      renderNeeded: function () {}\n    }\n  }\n\n\n  /**\n   * Event called when the webgl context needs to be re-rendered\n   * @param  {Function} cb - callback for when a rendering is needed\n   */\n  onRenderNeeded (cb) {\n    if (typeof cb === 'function' ) {\n      this._on.renderNeeded = cb\n    }\n  }\n\n\n  /**\n   * @private\n   * remove every anchor points spherical hints\n   */\n  _flushAnchorPointContainer () {\n    let apc = this._anchorPointsContainer\n\n    for (let i = apc.children.length - 1; i >= 0; i--) {\n      apc.remove(apc.children[i])\n    }\n\n    this._on.renderNeeded()\n  }\n\n\n  /**\n   * @private\n   * remove everything from the convex hull container\n   */\n  _flushConvexHullContainer () {\n    let chc = this._convexHullContainer\n\n    for (let i = chc.children.length - 1; i >= 0; i--) {\n      chc.remove(chc.children[i])\n    }\n\n    this._on.renderNeeded()\n  }\n\n\n  /**\n   * Build the spherical hints for each anchor points and add them to the scene\n   * @return {[type]} [description]\n   */\n  updateAnchorPoints () {\n    this._flushAnchorPointContainer() // TODO: not working\n\n    this._cachedAnchorPoints = this._anchorPointCollection.getAllAnchorPoints()\n    let apList = this._cachedAnchorPoints\n\n    for (let i=0; i<apList.length; i++) {\n      let apMesh = this._anchorPointsMesh.clone()\n      apMesh.position.copy(apList[i])\n      this._anchorPointsContainer.add(apMesh)\n    }\n\n    this._on.renderNeeded()\n  }\n\n\n  /**\n   * Build the convex hull and add it to the scene\n   * @return {[type]} [description]\n   */\n  buildConvexHull () {\n    if (!this._cachedAnchorPoints.length) {\n      this._cachedAnchorPoints = this._anchorPointCollection.getAllAnchorPoints()\n    }\n\n    if (this._cachedAnchorPoints.length < 3) {\n      console.warn('At least 4 points are required to build a mesh.')\n      return null\n    }\n\n    this._flushConvexHullContainer()\n\n    const convexGeometry = new ConvexBufferGeometry(this._cachedAnchorPoints)\n    const convexMesh = new THREE.Mesh(convexGeometry, this._convexHullMaterial)\n    this._convexHullContainer.add(convexMesh)\n    this._on.renderNeeded()\n\n    return convexMesh\n  }\n\n\n  /**\n   * Show or hide the anchor points\n   * @param  {Boolean} b - true to show, false to hide\n   */\n  showAnchorPoint (b) {\n    this._anchorPointsContainer.visible = b\n    this._on.renderNeeded()\n  }\n\n\n  /**\n   * Show or hide the convex hull\n   * @param  {Boolean} b - true to show, false to hide\n   */\n  showConvexHull (b) {\n    this._convexHullContainer.visible = b\n    this._on.renderNeeded()\n  }\n\n\n  /**\n   * Enable or disable wireframe rendering for the hull\n   * @param  {Boolean} b - true to enable wireframe, false to enable regular (phong) material\n   */\n  wireframe (b) {\n    this._convexHullMaterial.wireframe = b\n    this._on.renderNeeded()\n  }\n\n\n}\n","import ThreeContext from './ThreeContext'\nimport AnchorPointCollection from './AnchorPointCollection'\nimport HullView from './HullView'\n\nexport default class Rocknhull {\n\n  constructor (div) {\n    let that = this\n    this._threeContext = new ThreeContext(div)\n    this._anchorPointCollection = new AnchorPointCollection()\n    this._hullView = new HullView(\n      this._threeContext.getScene(),\n      this._anchorPointCollection\n    )\n\n    this._hullView.onRenderNeeded(function(){\n      that._threeContext.render()\n    })\n  }\n\n\n  getAnchorPointCollection () {\n    return this._anchorPointCollection\n  }\n\n\n  getHullView () {\n    return this._hullView\n  }\n}\n","import Rocknhull from './Rocknhull'\n\nexport default ({\n  Rocknhull,\n})\n"],"names":["THREE.Vector3","THREE.Vector2","THREE.Quaternion","THREE.EventDispatcher","THREE.MOUSE","THREE.Spherical","THREE.PerspectiveCamera","THREE.Scene","THREE.AmbientLight","THREE.Color","THREE.Fog","THREE.AxesHelper","THREE.Object3D","THREE.GridHelper","THREE.DirectionalLight","THREE.WebGLRenderer","THREE.Raycaster","THREE.TorusKnotBufferGeometry","THREE.MeshPhongMaterial","THREE.Mesh","THREE.Line3","THREE.Plane","THREE.Triangle","THREE.Geometry","THREE.BufferGeometry","THREE.Float32BufferAttribute","THREE.MeshBasicMaterial","THREE.SphereBufferGeometry"],"mappings":"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"}