{"version":3,"file":"rocknhull.js","sources":["../src/thirdparty/TrackballControls.js","../src/thirdparty/OrbitControls.js","../src/EventManager.js","../src/ThreeContext.js","../src/AnchorPoint.js","../src/main.js"],"sourcesContent":["/*\n * @author Eberhard Graether / http://egraether.com/\n * @author Mark Lundin   / http://mark-lundin.com\n * @author Simone Manini / http://daron1337.github.io\n * @author Luca Antiga   / http://lantiga.github.io\n */\n\n\nimport * as THREE from 'three'\n\n/*\n* ES6 adapted source from the example folder of THREEJS (because there is no proper repo for it)\n* Enables mouse control (pan, zoom, rotation)\n*/\nconst TrackballControls = function (object, domElement) {\n  const _this = this\n  const STATE = {\n    NONE: -1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4,\n  }\n\n  this.object = object\n  this.domElement = (domElement !== undefined) ? domElement : document\n\n  // API\n\n  this.enabled = true\n\n  this.screen = {\n    left: 0, top: 0, width: 0, height: 0,\n  }\n\n  this.rotateSpeed = 1.0\n  this.zoomSpeed = 1.2\n  this.panSpeed = 0.3\n\n  this.noRotate = false\n  this.noZoom = false\n  this.noPan = false\n\n  this.staticMoving = false\n  this.dynamicDampingFactor = 0.5\n\n  this.minDistance = 0\n  this.maxDistance = Infinity\n\n  this.keys = [65 /* A */, 83 /* S */, 68]\n\n  // internals\n\n  this.target = new THREE.Vector3()\n\n  const EPS = 0.000001\n\n  const lastPosition = new THREE.Vector3()\n\n  let _state = STATE.NONE\n\n\n  let _prevState = STATE.NONE\n\n\n  const _eye = new THREE.Vector3()\n\n\n  const _movePrev = new THREE.Vector2()\n\n\n  const _moveCurr = new THREE.Vector2()\n\n\n  const _lastAxis = new THREE.Vector3()\n\n\n  let _lastAngle = 0\n\n\n  const _zoomStart = new THREE.Vector2()\n\n\n  const _zoomEnd = new THREE.Vector2()\n\n\n  let _touchZoomDistanceStart = 0\n\n\n  let _touchZoomDistanceEnd = 0\n\n\n  const _panStart = new THREE.Vector2()\n\n\n  const _panEnd = new THREE.Vector2()\n\n  // for reset\n\n  this.target0 = this.target.clone()\n  this.position0 = this.object.position.clone()\n  this.up0 = this.object.up.clone()\n\n  // events\n\n  const changeEvent = { type: 'change' }\n  const startEvent = { type: 'start' }\n  const endEvent = { type: 'end' }\n\n\n  // methods\n\n  this.handleResize = function () {\n    if (this.domElement === document) {\n      this.screen.left = 0\n      this.screen.top = 0\n      this.screen.width = window.innerWidth\n      this.screen.height = window.innerHeight\n    } else {\n      const box = this.domElement.getBoundingClientRect()\n      // adjustments come from similar code in the jquery offset() function\n      const d = this.domElement.ownerDocument.documentElement\n      this.screen.left = box.left + window.pageXOffset - d.clientLeft\n      this.screen.top = box.top + window.pageYOffset - d.clientTop\n      this.screen.width = box.width\n      this.screen.height = box.height\n    }\n  }\n\n  const getMouseOnScreen = (function () {\n    const vector = new THREE.Vector2()\n\n    return function getMouseOnScreen(pageX, pageY) {\n      vector.set(\n        (pageX - _this.screen.left) / _this.screen.width,\n        (pageY - _this.screen.top) / _this.screen.height,\n      )\n\n      return vector\n    }\n  }())\n\n  const getMouseOnCircle = (function () {\n    const vector = new THREE.Vector2()\n\n    return function getMouseOnCircle(pageX, pageY) {\n      vector.set(\n        ((pageX - _this.screen.width * 0.5 - _this.screen.left) / (_this.screen.width * 0.5)),\n        ((_this.screen.height + 2 * (_this.screen.top - pageY)) / _this.screen.width), // screen.width intentional\n      )\n\n      return vector\n    }\n  }())\n\n  this.rotateCamera = (function () {\n    const axis = new THREE.Vector3()\n\n\n    const quaternion = new THREE.Quaternion()\n\n\n    const eyeDirection = new THREE.Vector3()\n\n\n    const objectUpDirection = new THREE.Vector3()\n\n\n    const objectSidewaysDirection = new THREE.Vector3()\n\n\n    const moveDirection = new THREE.Vector3()\n\n\n    let angle\n\n    return function rotateCamera() {\n      moveDirection.set(_moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0)\n      angle = moveDirection.length()\n\n      if (angle) {\n        _eye.copy(_this.object.position).sub(_this.target)\n\n        eyeDirection.copy(_eye).normalize()\n        objectUpDirection.copy(_this.object.up).normalize()\n        objectSidewaysDirection.crossVectors(objectUpDirection, eyeDirection).normalize()\n\n        objectUpDirection.setLength(_moveCurr.y - _movePrev.y)\n        objectSidewaysDirection.setLength(_moveCurr.x - _movePrev.x)\n\n        moveDirection.copy(objectUpDirection.add(objectSidewaysDirection))\n\n        axis.crossVectors(moveDirection, _eye).normalize()\n\n        angle *= _this.rotateSpeed\n        quaternion.setFromAxisAngle(axis, angle)\n\n        _eye.applyQuaternion(quaternion)\n        _this.object.up.applyQuaternion(quaternion)\n\n        _lastAxis.copy(axis)\n        _lastAngle = angle\n      } else if (!_this.staticMoving && _lastAngle) {\n        _lastAngle *= Math.sqrt(1.0 - _this.dynamicDampingFactor)\n        _eye.copy(_this.object.position).sub(_this.target)\n        quaternion.setFromAxisAngle(_lastAxis, _lastAngle)\n        _eye.applyQuaternion(quaternion)\n        _this.object.up.applyQuaternion(quaternion)\n      }\n\n      _movePrev.copy(_moveCurr)\n    }\n  }())\n\n\n  this.zoomCamera = function () {\n    let factor\n\n    if (_state === STATE.TOUCH_ZOOM_PAN) {\n      factor = _touchZoomDistanceStart / _touchZoomDistanceEnd\n      _touchZoomDistanceStart = _touchZoomDistanceEnd\n      _eye.multiplyScalar(factor)\n    } else {\n      factor = 1.0 + (_zoomEnd.y - _zoomStart.y) * _this.zoomSpeed\n\n      if (factor !== 1.0 && factor > 0.0) {\n        _eye.multiplyScalar(factor)\n      }\n\n      if (_this.staticMoving) {\n        _zoomStart.copy(_zoomEnd)\n      } else {\n        _zoomStart.y += (_zoomEnd.y - _zoomStart.y) * this.dynamicDampingFactor\n      }\n    }\n  }\n\n  this.panCamera = (function () {\n    const mouseChange = new THREE.Vector2()\n\n\n    const objectUp = new THREE.Vector3()\n\n\n    const pan = new THREE.Vector3()\n\n    return function panCamera() {\n      mouseChange.copy(_panEnd).sub(_panStart)\n\n      if (mouseChange.lengthSq()) {\n        mouseChange.multiplyScalar(_eye.length() * _this.panSpeed)\n\n        pan.copy(_eye).cross(_this.object.up).setLength(mouseChange.x)\n        pan.add(objectUp.copy(_this.object.up).setLength(mouseChange.y))\n\n        _this.object.position.add(pan)\n        _this.target.add(pan)\n\n        if (_this.staticMoving) {\n          _panStart.copy(_panEnd)\n        } else {\n          _panStart.add(mouseChange.subVectors(_panEnd, _panStart).multiplyScalar(_this.dynamicDampingFactor))\n        }\n      }\n    }\n  }())\n\n  this.checkDistances = function () {\n    if (!_this.noZoom || !_this.noPan) {\n      if (_eye.lengthSq() > _this.maxDistance * _this.maxDistance) {\n        _this.object.position.addVectors(_this.target, _eye.setLength(_this.maxDistance))\n        _zoomStart.copy(_zoomEnd)\n      }\n\n      if (_eye.lengthSq() < _this.minDistance * _this.minDistance) {\n        _this.object.position.addVectors(_this.target, _eye.setLength(_this.minDistance))\n        _zoomStart.copy(_zoomEnd)\n      }\n    }\n  }\n\n  this.update = function () {\n    _eye.subVectors(_this.object.position, _this.target)\n\n    if (!_this.noRotate) {\n      _this.rotateCamera()\n    }\n\n    if (!_this.noZoom) {\n      _this.zoomCamera()\n    }\n\n    if (!_this.noPan) {\n      _this.panCamera()\n    }\n\n    _this.object.position.addVectors(_this.target, _eye)\n\n    _this.checkDistances()\n\n    _this.object.lookAt(_this.target)\n\n    if (lastPosition.distanceToSquared(_this.object.position) > EPS) {\n      _this.dispatchEvent(changeEvent)\n\n      lastPosition.copy(_this.object.position)\n    }\n  }\n\n  this.reset = function () {\n    _state = STATE.NONE\n    _prevState = STATE.NONE\n\n    _this.target.copy(_this.target0)\n    _this.object.position.copy(_this.position0)\n    _this.object.up.copy(_this.up0)\n\n    _eye.subVectors(_this.object.position, _this.target)\n\n    _this.object.lookAt(_this.target)\n\n    _this.dispatchEvent(changeEvent)\n\n    lastPosition.copy(_this.object.position)\n  }\n\n  // listeners\n\n  function keydown(event) {\n    if (_this.enabled === false) return\n\n    window.removeEventListener('keydown', keydown)\n\n    _prevState = _state\n\n    if (_state !== STATE.NONE) {\n      return\n    } if (event.keyCode === _this.keys[STATE.ROTATE] && !_this.noRotate) {\n      _state = STATE.ROTATE\n    } else if (event.keyCode === _this.keys[STATE.ZOOM] && !_this.noZoom) {\n      _state = STATE.ZOOM\n    } else if (event.keyCode === _this.keys[STATE.PAN] && !_this.noPan) {\n      _state = STATE.PAN\n    }\n  }\n\n  function keyup(event) {\n    if (_this.enabled === false) return\n\n    _state = _prevState\n\n    window.addEventListener('keydown', keydown, false)\n  }\n\n  function mousedown(event) {\n    if (_this.enabled === false) return\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    if (_state === STATE.NONE) {\n      _state = event.button\n    }\n\n    if (_state === STATE.ROTATE && !_this.noRotate) {\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY))\n      _movePrev.copy(_moveCurr)\n    } else if (_state === STATE.ZOOM && !_this.noZoom) {\n      _zoomStart.copy(getMouseOnScreen(event.pageX, event.pageY))\n      _zoomEnd.copy(_zoomStart)\n    } else if (_state === STATE.PAN && !_this.noPan) {\n      _panStart.copy(getMouseOnScreen(event.pageX, event.pageY))\n      _panEnd.copy(_panStart)\n    }\n\n    document.addEventListener('mousemove', mousemove, false)\n    document.addEventListener('mouseup', mouseup, false)\n\n    _this.dispatchEvent(startEvent)\n  }\n\n  function mousemove(event) {\n    if (_this.enabled === false) return\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    if (_state === STATE.ROTATE && !_this.noRotate) {\n      _movePrev.copy(_moveCurr)\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY))\n    } else if (_state === STATE.ZOOM && !_this.noZoom) {\n      _zoomEnd.copy(getMouseOnScreen(event.pageX, event.pageY))\n    } else if (_state === STATE.PAN && !_this.noPan) {\n      _panEnd.copy(getMouseOnScreen(event.pageX, event.pageY))\n    }\n  }\n\n  function mouseup(event) {\n    if (_this.enabled === false) return\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    _state = STATE.NONE\n\n    document.removeEventListener('mousemove', mousemove)\n    document.removeEventListener('mouseup', mouseup)\n    _this.dispatchEvent(endEvent)\n  }\n\n  function mousewheel(event) {\n    if (_this.enabled === false) return\n\n    if (_this.noZoom === true) return\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    switch (event.deltaMode) {\n      case 2:\n        // Zoom in pages\n        _zoomStart.y -= event.deltaY * 0.025\n        break\n\n      case 1:\n        // Zoom in lines\n        _zoomStart.y -= event.deltaY * 0.01\n        break\n\n      default:\n        // undefined, 0, assume pixels\n        _zoomStart.y -= event.deltaY * 0.00025\n        break\n    }\n\n    _this.dispatchEvent(startEvent)\n    _this.dispatchEvent(endEvent)\n  }\n\n  function touchstart(event) {\n    if (_this.enabled === false) return\n\n    event.preventDefault()\n\n    switch (event.touches.length) {\n      case 1:\n        _state = STATE.TOUCH_ROTATE\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY))\n        _movePrev.copy(_moveCurr)\n        break\n\n      default: // 2 or more\n        _state = STATE.TOUCH_ZOOM_PAN\n        var dx = event.touches[0].pageX - event.touches[1].pageX\n        var dy = event.touches[0].pageY - event.touches[1].pageY\n        _touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy)\n\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2\n        _panStart.copy(getMouseOnScreen(x, y))\n        _panEnd.copy(_panStart)\n        break\n    }\n\n    _this.dispatchEvent(startEvent)\n  }\n\n  function touchmove(event) {\n    if (_this.enabled === false) return\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    switch (event.touches.length) {\n      case 1:\n        _movePrev.copy(_moveCurr)\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY))\n        break\n\n      default: // 2 or more\n        var dx = event.touches[0].pageX - event.touches[1].pageX\n        var dy = event.touches[0].pageY - event.touches[1].pageY\n        _touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy)\n\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2\n        _panEnd.copy(getMouseOnScreen(x, y))\n        break\n    }\n  }\n\n  function touchend(event) {\n    if (_this.enabled === false) return\n\n    switch (event.touches.length) {\n      case 0:\n        _state = STATE.NONE\n        break\n\n      case 1:\n        _state = STATE.TOUCH_ROTATE\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY))\n        _movePrev.copy(_moveCurr)\n        break\n    }\n\n    _this.dispatchEvent(endEvent)\n  }\n\n  function contextmenu(event) {\n    if (_this.enabled === false) return\n\n    event.preventDefault()\n  }\n\n  this.dispose = function () {\n    this.domElement.removeEventListener('contextmenu', contextmenu, false)\n    this.domElement.removeEventListener('mousedown', mousedown, false)\n    this.domElement.removeEventListener('wheel', mousewheel, false)\n\n    this.domElement.removeEventListener('touchstart', touchstart, false)\n    this.domElement.removeEventListener('touchend', touchend, false)\n    this.domElement.removeEventListener('touchmove', touchmove, false)\n\n    document.removeEventListener('mousemove', mousemove, false)\n    document.removeEventListener('mouseup', mouseup, false)\n\n    window.removeEventListener('keydown', keydown, false)\n    window.removeEventListener('keyup', keyup, false)\n  }\n\n  this.domElement.addEventListener('contextmenu', contextmenu, false)\n  this.domElement.addEventListener('mousedown', mousedown, false)\n  this.domElement.addEventListener('wheel', mousewheel, false)\n\n  this.domElement.addEventListener('touchstart', touchstart, false)\n  this.domElement.addEventListener('touchend', touchend, false)\n  this.domElement.addEventListener('touchmove', touchmove, false)\n\n  window.addEventListener('keydown', keydown, false)\n  window.addEventListener('keyup', keyup, false)\n\n  this.handleResize()\n\n  // force an update at start\n  this.update()\n}\n\n\nTrackballControls.prototype = Object.create(THREE.EventDispatcher.prototype)\n// TrackballControls.prototype.constructor = THREE.TrackballControls;\n\nexport default TrackballControls\n","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n import * as THREE from 'three'\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst OrbitControls = function ( object, domElement ) {\n\n  this.object = object;\n\n  this.domElement = ( domElement !== undefined ) ? domElement : document;\n\n  // Set to false to disable this control\n  this.enabled = true;\n\n  // \"target\" sets the location of focus, where the object orbits around\n  this.target = new THREE.Vector3();\n\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n\n  // How far you can zoom in and out ( OrthographicCamera only )\n  this.minZoom = 0;\n  this.maxZoom = Infinity;\n\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  this.minPolarAngle = 0; // radians\n  this.maxPolarAngle = Math.PI; // radians\n\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  this.minAzimuthAngle = - Infinity; // radians\n  this.maxAzimuthAngle = Infinity; // radians\n\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  this.enableDamping = false;\n  this.dampingFactor = 0.25;\n\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  this.enableZoom = true;\n  this.zoomSpeed = 1.0;\n\n  // Set to false to disable rotating\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0;\n\n  // Set to false to disable panning\n  this.enablePan = true;\n  this.panSpeed = 1.0;\n  this.screenSpacePanning = false; // if true, pan in screen-space\n  this.keyPanSpeed = 7.0;  // pixels moved per arrow key push\n\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n  // Set to false to disable use of the keys\n  this.enableKeys = true;\n\n  // The four arrow keys\n  this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n  // Mouse buttons\n  this.mouseButtons = { LEFT: THREE.MOUSE.LEFT, MIDDLE: THREE.MOUSE.MIDDLE, RIGHT: THREE.MOUSE.RIGHT };\n\n  // for reset\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom;\n\n  //\n  // public methods\n  //\n\n  this.getPolarAngle = function () {\n\n    return spherical.phi;\n\n  };\n\n  this.getAzimuthalAngle = function () {\n\n    return spherical.theta;\n\n  };\n\n  this.saveState = function () {\n\n    scope.target0.copy( scope.target );\n    scope.position0.copy( scope.object.position );\n    scope.zoom0 = scope.object.zoom;\n\n  };\n\n  this.reset = function () {\n\n    scope.target.copy( scope.target0 );\n    scope.object.position.copy( scope.position0 );\n    scope.object.zoom = scope.zoom0;\n\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent( changeEvent );\n\n    scope.update();\n\n    state = STATE.NONE;\n\n  };\n\n  // this method is exposed, but perhaps it would be better if we can make it private...\n  this.update = function () {\n\n    var offset = new THREE.Vector3();\n\n    // so camera.up is the orbit axis\n    var quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n    var quatInverse = quat.clone().inverse();\n\n    var lastPosition = new THREE.Vector3();\n    var lastQuaternion = new THREE.Quaternion();\n\n    return function update() {\n\n      var position = scope.object.position;\n\n      offset.copy( position ).sub( scope.target );\n\n      // rotate offset to \"y-axis-is-up\" space\n      offset.applyQuaternion( quat );\n\n      // angle from z-axis around y-axis\n      spherical.setFromVector3( offset );\n\n      if ( scope.autoRotate && state === STATE.NONE ) {\n\n        rotateLeft( getAutoRotationAngle() );\n\n      }\n\n      spherical.theta += sphericalDelta.theta;\n      spherical.phi += sphericalDelta.phi;\n\n      // restrict theta to be between desired limits\n      spherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n      // restrict phi to be between desired limits\n      spherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n      spherical.makeSafe();\n\n\n      spherical.radius *= scale;\n\n      // restrict radius to be between desired limits\n      spherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n      // move target to panned location\n      scope.target.add( panOffset );\n\n      offset.setFromSpherical( spherical );\n\n      // rotate offset back to \"camera-up-vector-is-up\" space\n      offset.applyQuaternion( quatInverse );\n\n      position.copy( scope.target ).add( offset );\n\n      scope.object.lookAt( scope.target );\n\n      if ( scope.enableDamping === true ) {\n\n        sphericalDelta.theta *= ( 1 - scope.dampingFactor );\n        sphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n        panOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n      } else {\n\n        sphericalDelta.set( 0, 0, 0 );\n\n        panOffset.set( 0, 0, 0 );\n\n      }\n\n      scale = 1;\n\n      // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if ( zoomChanged ||\n        lastPosition.distanceToSquared( scope.object.position ) > EPS ||\n        8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n        scope.dispatchEvent( changeEvent );\n\n        lastPosition.copy( scope.object.position );\n        lastQuaternion.copy( scope.object.quaternion );\n        zoomChanged = false;\n\n        return true;\n\n      }\n\n      return false;\n\n    };\n\n  }();\n\n  this.dispose = function () {\n\n    scope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n    scope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n    scope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n    scope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n    scope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n    scope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n    document.removeEventListener( 'mousemove', onMouseMove, false );\n    document.removeEventListener( 'mouseup', onMouseUp, false );\n\n    window.removeEventListener( 'keydown', onKeyDown, false );\n\n    //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n  };\n\n  //\n  // internals\n  //\n\n  var scope = this;\n\n  var changeEvent = { type: 'change' };\n  var startEvent = { type: 'start' };\n  var endEvent = { type: 'end' };\n\n  var STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY_PAN: 4 };\n\n  var state = STATE.NONE;\n\n  var EPS = 0.000001;\n\n  // current position in spherical coordinates\n  var spherical = new THREE.Spherical();\n  var sphericalDelta = new THREE.Spherical();\n\n  var scale = 1;\n  var panOffset = new THREE.Vector3();\n  var zoomChanged = false;\n\n  var rotateStart = new THREE.Vector2();\n  var rotateEnd = new THREE.Vector2();\n  var rotateDelta = new THREE.Vector2();\n\n  var panStart = new THREE.Vector2();\n  var panEnd = new THREE.Vector2();\n  var panDelta = new THREE.Vector2();\n\n  var dollyStart = new THREE.Vector2();\n  var dollyEnd = new THREE.Vector2();\n  var dollyDelta = new THREE.Vector2();\n\n  function getAutoRotationAngle() {\n\n    return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n  }\n\n  function getZoomScale() {\n\n    return Math.pow( 0.95, scope.zoomSpeed );\n\n  }\n\n  function rotateLeft( angle ) {\n\n    sphericalDelta.theta -= angle;\n\n  }\n\n  function rotateUp( angle ) {\n\n    sphericalDelta.phi -= angle;\n\n  }\n\n  var panLeft = function () {\n\n    var v = new THREE.Vector3();\n\n    return function panLeft( distance, objectMatrix ) {\n\n      v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n      v.multiplyScalar( - distance );\n\n      panOffset.add( v );\n\n    };\n\n  }();\n\n  var panUp = function () {\n\n    var v = new THREE.Vector3();\n\n    return function panUp( distance, objectMatrix ) {\n\n      if ( scope.screenSpacePanning === true ) {\n\n        v.setFromMatrixColumn( objectMatrix, 1 );\n\n      } else {\n\n        v.setFromMatrixColumn( objectMatrix, 0 );\n        v.crossVectors( scope.object.up, v );\n\n      }\n\n      v.multiplyScalar( distance );\n\n      panOffset.add( v );\n\n    };\n\n  }();\n\n  // deltaX and deltaY are in pixels; right and down are positive\n  var pan = function () {\n\n    var offset = new THREE.Vector3();\n\n    return function pan( deltaX, deltaY ) {\n\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      if ( scope.object.isPerspectiveCamera ) {\n\n        // perspective\n        var position = scope.object.position;\n        offset.copy( position ).sub( scope.target );\n        var targetDistance = offset.length();\n\n        // half of the fov is center to top of screen\n        targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n        // we use only clientHeight here so aspect ratio does not distort speed\n        panLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n        panUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n      } else if ( scope.object.isOrthographicCamera ) {\n\n        // orthographic\n        panLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n        panUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n      } else {\n\n        // camera neither orthographic nor perspective\n        console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n        scope.enablePan = false;\n\n      }\n\n    };\n\n  }();\n\n  function dollyIn( dollyScale ) {\n\n    if ( scope.object.isPerspectiveCamera ) {\n\n      scale /= dollyScale;\n\n    } else if ( scope.object.isOrthographicCamera ) {\n\n      scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n\n    } else {\n\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n      scope.enableZoom = false;\n\n    }\n\n  }\n\n  function dollyOut( dollyScale ) {\n\n    if ( scope.object.isPerspectiveCamera ) {\n\n      scale *= dollyScale;\n\n    } else if ( scope.object.isOrthographicCamera ) {\n\n      scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n\n    } else {\n\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n      scope.enableZoom = false;\n\n    }\n\n  }\n\n  //\n  // event callbacks - update the object state\n  //\n\n  function handleMouseDownRotate( event ) {\n\n    //console.log( 'handleMouseDownRotate' );\n\n    rotateStart.set( event.clientX, event.clientY );\n\n  }\n\n  function handleMouseDownDolly( event ) {\n\n    //console.log( 'handleMouseDownDolly' );\n\n    dollyStart.set( event.clientX, event.clientY );\n\n  }\n\n  function handleMouseDownPan( event ) {\n\n    //console.log( 'handleMouseDownPan' );\n\n    panStart.set( event.clientX, event.clientY );\n\n  }\n\n  function handleMouseMoveRotate( event ) {\n\n    //console.log( 'handleMouseMoveRotate' );\n\n    rotateEnd.set( event.clientX, event.clientY );\n\n    rotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n    rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n    rotateStart.copy( rotateEnd );\n\n    scope.update();\n\n  }\n\n  function handleMouseMoveDolly( event ) {\n\n    //console.log( 'handleMouseMoveDolly' );\n\n    dollyEnd.set( event.clientX, event.clientY );\n\n    dollyDelta.subVectors( dollyEnd, dollyStart );\n\n    if ( dollyDelta.y > 0 ) {\n\n      dollyIn( getZoomScale() );\n\n    } else if ( dollyDelta.y < 0 ) {\n\n      dollyOut( getZoomScale() );\n\n    }\n\n    dollyStart.copy( dollyEnd );\n\n    scope.update();\n\n  }\n\n  function handleMouseMovePan( event ) {\n\n    //console.log( 'handleMouseMovePan' );\n\n    panEnd.set( event.clientX, event.clientY );\n\n    panDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n    pan( panDelta.x, panDelta.y );\n\n    panStart.copy( panEnd );\n\n    scope.update();\n\n  }\n\n  function handleMouseUp( event ) {\n\n    // console.log( 'handleMouseUp' );\n\n  }\n\n  function handleMouseWheel( event ) {\n\n    // console.log( 'handleMouseWheel' );\n\n    if ( event.deltaY < 0 ) {\n\n      dollyOut( getZoomScale() );\n\n    } else if ( event.deltaY > 0 ) {\n\n      dollyIn( getZoomScale() );\n\n    }\n\n    scope.update();\n\n  }\n\n  function handleKeyDown( event ) {\n\n    //console.log( 'handleKeyDown' );\n\n    switch ( event.keyCode ) {\n\n      case scope.keys.UP:\n        pan( 0, scope.keyPanSpeed );\n        scope.update();\n        break;\n\n      case scope.keys.BOTTOM:\n        pan( 0, - scope.keyPanSpeed );\n        scope.update();\n        break;\n\n      case scope.keys.LEFT:\n        pan( scope.keyPanSpeed, 0 );\n        scope.update();\n        break;\n\n      case scope.keys.RIGHT:\n        pan( - scope.keyPanSpeed, 0 );\n        scope.update();\n        break;\n\n    }\n\n  }\n\n  function handleTouchStartRotate( event ) {\n\n    //console.log( 'handleTouchStartRotate' );\n\n    rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n  }\n\n  function handleTouchStartDollyPan( event ) {\n\n    //console.log( 'handleTouchStartDollyPan' );\n\n    if ( scope.enableZoom ) {\n\n      var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n      var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n      var distance = Math.sqrt( dx * dx + dy * dy );\n\n      dollyStart.set( 0, distance );\n\n    }\n\n    if ( scope.enablePan ) {\n\n      var x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n      var y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n      panStart.set( x, y );\n\n    }\n\n  }\n\n  function handleTouchMoveRotate( event ) {\n\n    //console.log( 'handleTouchMoveRotate' );\n\n    rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n    rotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n    rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n    rotateStart.copy( rotateEnd );\n\n    scope.update();\n\n  }\n\n  function handleTouchMoveDollyPan( event ) {\n\n    //console.log( 'handleTouchMoveDollyPan' );\n\n    if ( scope.enableZoom ) {\n\n      var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n      var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n      var distance = Math.sqrt( dx * dx + dy * dy );\n\n      dollyEnd.set( 0, distance );\n\n      dollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n      dollyIn( dollyDelta.y );\n\n      dollyStart.copy( dollyEnd );\n\n    }\n\n    if ( scope.enablePan ) {\n\n      var x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n      var y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n      panEnd.set( x, y );\n\n      panDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n      pan( panDelta.x, panDelta.y );\n\n      panStart.copy( panEnd );\n\n    }\n\n    scope.update();\n\n  }\n\n  function handleTouchEnd( event ) {\n\n    //console.log( 'handleTouchEnd' );\n\n  }\n\n  //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n  function onMouseDown( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n    switch ( event.button ) {\n\n      case scope.mouseButtons.LEFT:\n\n        if ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n          if ( scope.enablePan === false ) return;\n\n          handleMouseDownPan( event );\n\n          state = STATE.PAN;\n\n        } else {\n\n          if ( scope.enableRotate === false ) return;\n\n          handleMouseDownRotate( event );\n\n          state = STATE.ROTATE;\n\n        }\n\n        break;\n\n      case scope.mouseButtons.MIDDLE:\n\n        if ( scope.enableZoom === false ) return;\n\n        handleMouseDownDolly( event );\n\n        state = STATE.DOLLY;\n\n        break;\n\n      case scope.mouseButtons.RIGHT:\n\n        if ( scope.enablePan === false ) return;\n\n        handleMouseDownPan( event );\n\n        state = STATE.PAN;\n\n        break;\n\n    }\n\n    if ( state !== STATE.NONE ) {\n\n      document.addEventListener( 'mousemove', onMouseMove, false );\n      document.addEventListener( 'mouseup', onMouseUp, false );\n\n      scope.dispatchEvent( startEvent );\n\n    }\n\n  }\n\n  function onMouseMove( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n    switch ( state ) {\n\n      case STATE.ROTATE:\n\n        if ( scope.enableRotate === false ) return;\n\n        handleMouseMoveRotate( event );\n\n        break;\n\n      case STATE.DOLLY:\n\n        if ( scope.enableZoom === false ) return;\n\n        handleMouseMoveDolly( event );\n\n        break;\n\n      case STATE.PAN:\n\n        if ( scope.enablePan === false ) return;\n\n        handleMouseMovePan( event );\n\n        break;\n\n    }\n\n  }\n\n  function onMouseUp( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    handleMouseUp( event );\n\n    document.removeEventListener( 'mousemove', onMouseMove, false );\n    document.removeEventListener( 'mouseup', onMouseUp, false );\n\n    scope.dispatchEvent( endEvent );\n\n    state = STATE.NONE;\n\n  }\n\n  function onMouseWheel( event ) {\n\n    if ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    scope.dispatchEvent( startEvent );\n\n    handleMouseWheel( event );\n\n    scope.dispatchEvent( endEvent );\n\n  }\n\n  function onKeyDown( event ) {\n\n    if ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n    handleKeyDown( event );\n\n  }\n\n  function onTouchStart( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n    switch ( event.touches.length ) {\n\n      case 1:  // one-fingered touch: rotate\n\n        if ( scope.enableRotate === false ) return;\n\n        handleTouchStartRotate( event );\n\n        state = STATE.TOUCH_ROTATE;\n\n        break;\n\n      case 2:  // two-fingered touch: dolly-pan\n\n        if ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n        handleTouchStartDollyPan( event );\n\n        state = STATE.TOUCH_DOLLY_PAN;\n\n        break;\n\n      default:\n\n        state = STATE.NONE;\n\n    }\n\n    if ( state !== STATE.NONE ) {\n\n      scope.dispatchEvent( startEvent );\n\n    }\n\n  }\n\n  function onTouchMove( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch ( event.touches.length ) {\n\n      case 1: // one-fingered touch: rotate\n\n        if ( scope.enableRotate === false ) return;\n        if ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?\n\n        handleTouchMoveRotate( event );\n\n        break;\n\n      case 2: // two-fingered touch: dolly-pan\n\n        if ( scope.enableZoom === false && scope.enablePan === false ) return;\n        if ( state !== STATE.TOUCH_DOLLY_PAN ) return; // is this needed?\n\n        handleTouchMoveDollyPan( event );\n\n        break;\n\n      default:\n\n        state = STATE.NONE;\n\n    }\n\n  }\n\n  function onTouchEnd( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    handleTouchEnd( event );\n\n    scope.dispatchEvent( endEvent );\n\n    state = STATE.NONE;\n\n  }\n\n  function onContextMenu( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n  }\n\n  //\n\n  scope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n  scope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n  scope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n  scope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n  scope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n  scope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n  window.addEventListener( 'keydown', onKeyDown, false );\n\n  // force an update at start\n\n  this.update();\n\n};\n\nOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\nObject.defineProperties( OrbitControls.prototype, {\n\n  center: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .center has been renamed to .target' );\n      return this.target;\n\n    }\n\n  },\n\n  // backward compatibility\n\n  noZoom: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n      return ! this.enableZoom;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n      this.enableZoom = ! value;\n\n    }\n\n  },\n\n  noRotate: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n      return ! this.enableRotate;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n      this.enableRotate = ! value;\n\n    }\n\n  },\n\n  noPan: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n      return ! this.enablePan;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n      this.enablePan = ! value;\n\n    }\n\n  },\n\n  noKeys: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n      return ! this.enableKeys;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n      this.enableKeys = ! value;\n\n    }\n\n  },\n\n  staticMoving: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n      return ! this.enableDamping;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n      this.enableDamping = ! value;\n\n    }\n\n  },\n\n  dynamicDampingFactor: {\n\n    get: function () {\n\n      console.warn( 'OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n      return this.dampingFactor;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n      this.dampingFactor = value;\n\n    }\n\n  }\n\n} );\n\nexport default OrbitControls\n","/*\n* Author   Jonathan Lurie - http://me.jonathanlurie.fr\n* License  MIT\n* Link     https://github.com/Pixpipe/quickvoxelcore\n* Lab      MCIN - Montreal Neurological Institute\n*/\n\n\n/**\n * The EventManager deals with events, create them, call them.\n * This class is mostly for being inherited from.\n */\nclass EventManager {\n  /**\n   * Constructor\n   */\n  constructor() {\n    this._events = {}\n  }\n\n\n  /**\n   * Define an event, with a name associated with a function\n   * @param  {String} eventName - Name to give to the event\n   * @param  {Function} callback - function associated to the even\n   */\n  on(eventName, callback) {\n    if (typeof callback === 'function') {\n      if (!(eventName in this._events)) {\n        this._events[eventName] = []\n      }\n      this._events[eventName].push(callback)\n    } else {\n      console.warn('The callback must be of type Function')\n    }\n  }\n\n\n  emit(eventName, args = []) {\n    // the event must exist and be non null\n    if ((eventName in this._events) && (this._events[eventName].length > 0)) {\n      const events = this._events[eventName]\n      for (let i = 0; i < events.length; i += 1) {\n        events[i](...args)\n      }\n    } else {\n      console.warn(`No function associated to the event ${eventName}`)\n    }\n  }\n}\n\nexport default EventManager\n","import * as THREE from 'three'\nimport TrackballControls from './thirdparty/TrackballControls'\nimport OrbitControls from './thirdparty/OrbitControls'\n// import Tools from './Tools'\nimport EventManager from './EventManager'\n\n/**\n * ThreeContext creates a WebGL context using THREEjs. It also handle mouse control.\n * An event can be associated to a ThreeContext instance: `onRaycast` with the method\n * `.on(\"onRaycast\", function(s){...})` where `s` is the section object being raycasted.\n */\nexport default class ThreeContext extends EventManager {\n  /**\n   * @param {DONObject} divObj - the div object as a DOM element.\n   * Will be used to host the WebGL context\n   * created by THREE\n   */\n  constructor(divObj = null) {\n    super()\n    const that = this\n\n    if (!divObj) {\n      console.error('The ThreeContext needs a div object')\n      return\n    }\n\n    this._requestFrameId = null\n\n    // init camera\n    this._camera = new THREE.PerspectiveCamera(27, divObj.clientWidth / divObj.clientHeight, 1, 10000)\n    this._camera.position.z = 500\n\n\n    // init scene\n    this._scene = new THREE.Scene()\n    this._scene.add(new THREE.AmbientLight(0x444444))\n\n    // fog\n    let fogColor = new THREE.Color(0xffffff)\n    this._scene.background = fogColor\n    this._scene.fog = new THREE.Fog(fogColor, 1000, 1500)\n\n\n    let axesHelper = new THREE.AxesHelper( 1000 )\n    this._scene.add( axesHelper )\n\n    this._gridContainer = new THREE.Object3D()\n    let gridHelper = new THREE.GridHelper( 2000, 200 )\n    this._gridContainer.add(gridHelper)\n    this._scene.add(this._gridContainer)\n\n    // adding some light\n    const light1 = new THREE.DirectionalLight(0xffffff, 0.8)\n    // light1.position.set(0, 1000, 0)\n    // adding the light to the camera ensure a constant lightin of the model\n    this._scene.add(this._camera)\n    this._camera.add(light1)\n\n    this._renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true, preserveDrawingBuffer: true })\n    this._renderer.setClearColor(0xffffff, 0)\n    this._renderer.setPixelRatio(window.devicePixelRatio)\n    this._renderer.setSize(divObj.clientWidth, divObj.clientHeight)\n    this._renderer.gammaInput = true\n    this._renderer.gammaOutput = true\n    divObj.appendChild(this._renderer.domElement)\n\n    // all the necessary for raycasting\n    this._raycaster = new THREE.Raycaster()\n    this._raycastMouse = new THREE.Vector2()\n\n    function onMouseMove(event) {\n      const elem = that._renderer.domElement\n      const rect = elem.getBoundingClientRect()\n      const relX = event.clientX - rect.left\n      const relY = event.clientY - rect.top\n      that._raycastMouse.x = (relX / that._renderer.domElement.clientWidth) * 2 - 1\n      that._raycastMouse.y = -(relY / that._renderer.domElement.clientHeight) * 2 + 1\n    }\n\n    this._renderer.domElement.addEventListener('mousemove', onMouseMove, false)\n    this._renderer.domElement.addEventListener('dblclick', () => {\n      this._performRaycast()\n    }, false)\n\n    // mouse controls\n    this._controls = new OrbitControls(this._camera, this._renderer.domElement)\n    //this._controls.rotateSpeed = 3\n    this._controls.addEventListener('change', this._render.bind(this))\n\n    window.addEventListener('resize', () => {\n      that._camera.aspect = divObj.clientWidth / divObj.clientHeight\n      that._camera.updateProjectionMatrix()\n      that._renderer.setSize(divObj.clientWidth, divObj.clientHeight)\n      that._controls.handleResize()\n      that._render()\n    }, false)\n\n    this._render()\n    this._animate()\n  }\n\n\n  /**\n   * Adds a Thorus knot to the scene\n   */\n  addSampleShape() {\n    const geometry = new THREE.TorusKnotBufferGeometry(10, 3, 100, 16)\n    const material = new THREE.MeshPhongMaterial({ color: Math.ceil(Math.random() * 0xffff00) })\n    const torusKnot = new THREE.Mesh(geometry, material)\n    this._scene.add(torusKnot)\n    this._render()\n  }\n\n\n  /**\n   * Get the scene object\n   * @return {THREE.Scene}\n   */\n  getScene() {\n    return this._scene\n  }\n\n\n  /**\n   * Get the field of view angle of the camera, in degrees\n   * @return {Number}\n   */\n  getCameraFieldOfView() {\n    return this._camera.fov\n  }\n\n\n  /**\n   * Define the camera field of view, in degrees\n   * @param {Number} fov - the fov\n   */\n  setCameraFieldOfView(fov) {\n    this._camera.fov = fov\n    this._camera.updateProjectionMatrix()\n    this._render()\n  }\n\n\n  /**\n   * @private\n   * deals with rendering and updating the controls\n   */\n  _animate() {\n    this._requestFrameId = requestAnimationFrame(this._animate.bind(this))\n    this._controls.update()\n  }\n\n\n  /**\n   * @private\n   * Render the scene\n   */\n  _render() {\n    this._renderer.render(this._scene, this._camera)\n  }\n\n\n  /**\n   * @private\n   * Throw a ray from the camera to the pointer, potentially intersect some sections.\n   * If so, emit the event `onRaycast` with the section instance as argument\n   */\n  _performRaycast() {\n    // update the picking ray with the camera and mouse position\n    this._raycaster.setFromCamera(this._raycastMouse, this._camera)\n\n    // calculate objects intersecting the picking ray\n    const intersects = this._raycaster.intersectObjects(this._scene.children, true)\n\n    if (intersects.length) {\n      this.emit('onRaycast', intersects)\n    }\n  }\n\n\n  /**\n   * Get the png image data as base64, in order to later, export as a file\n   */\n  getSnapshotData() {\n    const strMime = 'image/png'\n    // let strDownloadMime = \"image/octet-stream\"\n    const imgData = this._renderer.domElement.toDataURL(strMime)\n    // imgData.replace(strMime, strDownloadMime)\n    return imgData\n  }\n\n\n  /**\n   * Kills the scene, interaction, animation and reset all objects to null\n   */\n  destroy() {\n    this._controls.dispose()\n    cancelAnimationFrame(this._requestFrameId)\n    this._camera = null\n    this._controls = null\n    this._scene = null\n    this._renderer.domElement.remove()\n    this._renderer = null\n  }\n}\n","import * as THREE from 'three'\n\n\n/**\n * An instance of AnchorPoint is a logic representation of a point in a 3D\n * cartesian space as well as all its symmetrical clone.\n *\n * Note: this is not a graphic representation.\n */\nexport default class AnchorPoint {\n\n  /**\n   * @param {Array} pos - position as [x, y, z]\n   */\n  constructor(pos){\n    this._position = pos\n    this._mirror = [false, false, false, false]\n  }\n\n  setX(x){\n    this._position[0] = x\n  }\n\n  setY(y){\n    this._position[1] = y\n  }\n\n  setZ(z){\n    this._position[2] = z\n  }\n\n\n  /**\n   * If true, the method `getVector3Ds()` will return the X mirrored point in\n   * addition to the regular one\n   * @param  {Boolean} en - true to mirror, false to not mirror\n   */\n  enableMirrorX(en) {\n    this._mirror[0] = en\n  }\n\n\n  /**\n   * If true, the method `getAnchorPoints()` will return the Y mirrored point in\n   * addition to the regular one\n   * @param  {Boolean} en - true to mirror, false to not mirror\n   */\n  enableMirrorY(en) {\n    this._mirror[1] = en\n  }\n\n\n  /**\n   * If true, the method `getAnchorPoints()` will return the Z mirrored point in\n   * addition to the regular one\n   * @param  {Boolean} en - true to mirror, false to not mirror\n   */\n  enableMirrorZ(en) {\n    this._mirror[2] = en\n  }\n\n\n  /**\n   * If true, the method `getAnchorPoints()` will return the radial symmetrical point in\n   * addition to the regular one\n   * @param  {Boolean} en - true to symetry, false to not symetry\n   */\n  enableRadialMirror(en) {\n    this._mirror[3] = en\n  }\n\n\n  /**\n   * Get all the AnchorPoint, aka. the original one and all its mirror (if enabled)\n   * @return {[THREE.Vector3]} An array of THREE.Vector3 built on te fly\n   */\n  getAnchorPoints() {\n    let points = [new THREE.Vector3(...this._position)]\n\n    if (this._mirror[0]) {\n      points.push(new THREE.Vector3(-this._position[0], this._position[1], this._position[2]))\n    }\n\n    if (this._mirror[1]) {\n      points.push(new THREE.Vector3(this._position[0], -this._position[1], this._position[2]))\n    }\n\n    if (this._mirror[2]) {\n      points.push(new THREE.Vector3(this._position[0], this._position[1], -this._position[2]))\n    }\n\n    if (this._mirror[3]) {\n      points.push(new THREE.Vector3(-this._position[0], -this._position[1], -this._position[2]))\n    }\n\n    return points\n\n  }\n\n}\n","import ThreeContext from './ThreeContext'\nimport AnchorPoint from './AnchorPoint'\n\nexport default ({\n  ThreeContext,\n  AnchorPoint,\n})\n"],"names":["THREE.Vector3","THREE.Vector2","THREE.Quaternion","THREE.EventDispatcher","THREE.MOUSE","THREE.Spherical","THREE.PerspectiveCamera","THREE.Scene","THREE.AmbientLight","THREE.Color","THREE.Fog","THREE.AxesHelper","THREE.Object3D","THREE.GridHelper","THREE.DirectionalLight","THREE.WebGLRenderer","THREE.Raycaster","THREE.TorusKnotBufferGeometry","THREE.MeshPhongMaterial","THREE.Mesh"],"mappings":"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"}